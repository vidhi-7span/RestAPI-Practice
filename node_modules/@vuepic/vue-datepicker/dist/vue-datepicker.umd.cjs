(function(e,u){typeof exports=="object"&&typeof module<"u"?module.exports=u(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],u):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=u(e.Vue,e.dateFns))})(this,function(e,u){"use strict";function Ke(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Ke.compatConfig={MODE:3};function Xt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Xt.compatConfig={MODE:3};function dt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}dt.compatConfig={MODE:3};function ft(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}ft.compatConfig={MODE:3};function mt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}mt.compatConfig={MODE:3};function gt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}gt.compatConfig={MODE:3};function pt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}pt.compatConfig={MODE:3};function ht(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jt={exports:{}};(function(t){function r(a){return a&&a.__esModule?a:{default:a}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(Jt);var Rn=Jt.exports,yt={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){if(n===null||n===!0||n===!1)return NaN;var o=Number(n);return isNaN(o)?o:o<0?Math.ceil(o):Math.floor(o)}t.exports=r.default})(yt,yt.exports);var Yn=yt.exports;const Vn=ht(Yn);var kt={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){var o=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return o.setUTCFullYear(n.getFullYear()),n.getTime()-o.getTime()}t.exports=r.default})(kt,kt.exports);var On=kt.exports;const Ft=ht(On);function In(t,r){var a=Kn(r);return a.formatToParts?Ln(a,t):Hn(a,t)}var zn={year:0,month:1,day:2,hour:3,minute:4,second:5};function Ln(t,r){try{for(var a=t.formatToParts(r),n=[],o=0;o<a.length;o++){var l=zn[a[o].type];l>=0&&(n[l]=parseInt(a[o].value,10))}return n}catch(m){if(m instanceof RangeError)return[NaN];throw m}}function Hn(t,r){var a=t.format(r).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(a);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var wt={};function Kn(t){if(!wt[t]){var r=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),a=r==="06/25/2014, 00:00:00"||r==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";wt[t]=a?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return wt[t]}function bt(t,r,a,n,o,l,m){var b=new Date(0);return b.setUTCFullYear(t,r,a),b.setUTCHours(n,o,l,m),b}var en=36e5,Un=6e4,Mt={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function Dt(t,r,a){var n,o;if(!t||(n=Mt.timezoneZ.exec(t),n))return 0;var l;if(n=Mt.timezoneHH.exec(t),n)return l=parseInt(n[1],10),tn(l)?-(l*en):NaN;if(n=Mt.timezoneHHMM.exec(t),n){l=parseInt(n[1],10);var m=parseInt(n[2],10);return tn(l,m)?(o=Math.abs(l)*en+m*Un,l>0?-o:o):NaN}if(xn(t)){r=new Date(r||Date.now());var b=a?r:Wn(r),M=Ct(b,t),A=a?M:jn(r,M,t);return-A}return NaN}function Wn(t){return bt(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function Ct(t,r){var a=In(t,r),n=bt(a[0],a[1]-1,a[2],a[3]%24,a[4],a[5],0).getTime(),o=t.getTime(),l=o%1e3;return o-=l>=0?l:1e3+l,n-o}function jn(t,r,a){var n=t.getTime(),o=n-r,l=Ct(new Date(o),a);if(r===l)return r;o-=l-r;var m=Ct(new Date(o),a);return l===m?l:Math.max(l,m)}function tn(t,r){return-23<=t&&t<=23&&(r==null||0<=r&&r<=59)}var nn={};function xn(t){if(nn[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),nn[t]=!0,!0}catch{return!1}}var rn=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,St=36e5,an=6e4,qn=2,he={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:rn};function Tt(t,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var a=r||{},n=a.additionalDigits==null?qn:Vn(a.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var o=Gn(t),l=Qn(o.date,n),m=l.year,b=l.restDateString,M=Zn(b,m);if(isNaN(M))return new Date(NaN);if(M){var A=M.getTime(),h=0,$;if(o.time&&(h=Xn(o.time),isNaN(h)))return new Date(NaN);if(o.timeZone||a.timeZone){if($=Dt(o.timeZone||a.timeZone,new Date(A+h)),isNaN($))return new Date(NaN)}else $=Ft(new Date(A+h)),$=Ft(new Date(A+h+$));return new Date(A+h+$)}else return new Date(NaN)}function Gn(t){var r={},a=he.dateTimePattern.exec(t),n;if(a?(r.date=a[1],n=a[3]):(a=he.datePattern.exec(t),a?(r.date=a[1],n=a[2]):(r.date=null,n=t)),n){var o=he.timeZone.exec(n);o?(r.time=n.replace(o[1],""),r.timeZone=o[1].trim()):r.time=n}return r}function Qn(t,r){var a=he.YYY[r],n=he.YYYYY[r],o;if(o=he.YYYY.exec(t)||n.exec(t),o){var l=o[1];return{year:parseInt(l,10),restDateString:t.slice(l.length)}}if(o=he.YY.exec(t)||a.exec(t),o){var m=o[1];return{year:parseInt(m,10)*100,restDateString:t.slice(m.length)}}return{year:null}}function Zn(t,r){if(r===null)return null;var a,n,o,l;if(t.length===0)return n=new Date(0),n.setUTCFullYear(r),n;if(a=he.MM.exec(t),a)return n=new Date(0),o=parseInt(a[1],10)-1,sn(r,o)?(n.setUTCFullYear(r,o),n):new Date(NaN);if(a=he.DDD.exec(t),a){n=new Date(0);var m=parseInt(a[1],10);return er(r,m)?(n.setUTCFullYear(r,0,m),n):new Date(NaN)}if(a=he.MMDD.exec(t),a){n=new Date(0),o=parseInt(a[1],10)-1;var b=parseInt(a[2],10);return sn(r,o,b)?(n.setUTCFullYear(r,o,b),n):new Date(NaN)}if(a=he.Www.exec(t),a)return l=parseInt(a[1],10)-1,un(r,l)?on(r,l):new Date(NaN);if(a=he.WwwD.exec(t),a){l=parseInt(a[1],10)-1;var M=parseInt(a[2],10)-1;return un(r,l,M)?on(r,l,M):new Date(NaN)}return null}function Xn(t){var r,a,n;if(r=he.HH.exec(t),r)return a=parseFloat(r[1].replace(",",".")),Bt(a)?a%24*St:NaN;if(r=he.HHMM.exec(t),r)return a=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),Bt(a,n)?a%24*St+n*an:NaN;if(r=he.HHMMSS.exec(t),r){a=parseInt(r[1],10),n=parseInt(r[2],10);var o=parseFloat(r[3].replace(",","."));return Bt(a,n,o)?a%24*St+n*an+o*1e3:NaN}return null}function on(t,r,a){r=r||0,a=a||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var o=n.getUTCDay()||7,l=r*7+a+1-o;return n.setUTCDate(n.getUTCDate()+l),n}var Jn=[31,28,31,30,31,30,31,31,30,31,30,31],Fn=[31,29,31,30,31,30,31,31,30,31,30,31];function ln(t){return t%400===0||t%4===0&&t%100!==0}function sn(t,r,a){if(r<0||r>11)return!1;if(a!=null){if(a<1)return!1;var n=ln(t);if(n&&a>Fn[r]||!n&&a>Jn[r])return!1}return!0}function er(t,r){if(r<1)return!1;var a=ln(t);return!(a&&r>366||!a&&r>365)}function un(t,r,a){return!(r<0||r>52||a!=null&&(a<0||a>6))}function Bt(t,r,a){return!(t!=null&&(t<0||t>=25)||r!=null&&(r<0||r>=60)||a!=null&&(a<0||a>=60))}var $t={exports:{}},At={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n,o){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(n[l]=o[l]);return n}t.exports=r.default})(At,At.exports);var tr=At.exports;(function(t,r){var a=Rn.default;Object.defineProperty(r,"__esModule",{value:!0}),r.default=o;var n=a(tr);function o(l){return(0,n.default)({},l)}t.exports=r.default})($t,$t.exports);var nr=$t.exports;const rr=ht(nr);function ar(t,r,a){var n=Tt(t,a),o=Dt(r,n,!0),l=new Date(n.getTime()-o),m=new Date(0);return m.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),m.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),m}function or(t,r,a){if(typeof t=="string"&&!t.match(rn)){var n=rr(a);return n.timeZone=r,Tt(t,n)}var o=Tt(t,a),l=bt(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()).getTime(),m=Dt(r,new Date(l));return new Date(l+m)}function cn(t){return r=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${r}T00:00:00+00:00`)).slice(0,2)}function lr(t){return r=>u.format(new Date(`2017-01-0${r}T00:00:00+00:00`),"EEEEEE",{locale:t})}const sr=(t,r,a)=>{const n=[1,2,3,4,5,6,7];let o;if(t!==null)try{o=n.map(lr(t))}catch{o=n.map(cn(r))}else o=n.map(cn(r));const l=o.slice(0,a),m=o.slice(a+1,o.length);return[o[a]].concat(...m).concat(...l)},vt=(t,r)=>{const a=[];for(let n=+t[0];n<=+t[1];n++)a.push({value:+n,text:`${n}`});return r?a.reverse():a},dn=(t,r,a)=>{const n=[1,2,3,4,5,6,7,8,9,10,11,12].map(l=>{const m=l<10?`0${l}`:l;return new Date(`2017-${m}-01T00:00:00+00:00`)});if(t!==null)try{const l=a==="long"?"MMMM":"MMM";return n.map((m,b)=>{const M=u.format(m,l,{locale:t});return{text:M.charAt(0).toUpperCase()+M.substring(1),value:b}})}catch{}const o=new Intl.DateTimeFormat(r,{month:a,timeZone:"UTC"});return n.map((l,m)=>{const b=o.format(l);return{text:b.charAt(0).toUpperCase()+b.substring(1),value:m}})},ir=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],de=t=>{const r=e.unref(t);return r!=null&&r.$el?r==null?void 0:r.$el:r},ur=t=>Object.assign({type:"dot"},t),fn=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Je={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},ue=t=>t,mn=t=>t===0?t:!t||isNaN(+t)?null:+t,gn=t=>t===null,cr=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},dr=t=>{const r=[],a=n=>n.filter(o=>o);for(let n=0;n<t.length;n+=3){const o=[t[n],t[n+1],t[n+2]];r.push(a(o))}return r},Ue=(t,r,a)=>{const n=a??a===0,o=r??r===0;if(!n&&!o)return!1;const l=+a,m=+r;return n&&o?+t>l||+t<m:n?+t>l:o?+t<m:!1},Oe=(t,r)=>dr(t).map(a=>a.map(n=>{const{active:o,disabled:l,isBetween:m}=r(n);return{...n,active:o,disabled:l,className:{dp__overlay_cell_active:o,dp__overlay_cell:!o,dp__overlay_cell_disabled:l,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:l&&o,dp__cell_in_between:m}}})),$e=(t,r,a=!1)=>{t&&r.allowStopPropagation&&(a&&t.stopImmediatePropagation(),t.stopPropagation())},pn=(t,r,a,n,o)=>{const l=u.parse(t,r.slice(0,t.length),new Date);return u.isValid(l)&&u.isDate(l)?n||o?l:u.set(l,{hours:+a.hours,minutes:+(a==null?void 0:a.minutes),seconds:+(a==null?void 0:a.seconds),milliseconds:0}):null},fr=(t,r,a,n,o)=>{const l=Array.isArray(a)?a[0]:a;if(typeof r=="string")return pn(t,r,l,n,o);if(Array.isArray(r)){let m=null;for(const b of r)if(m=pn(t,b,l,n,o),m)break;return m}return typeof r=="function"?r(t):null},z=t=>t?new Date(t):new Date,mr=(t,r,a)=>{if(r){const o=(t.getMonth()+1).toString().padStart(2,"0"),l=t.getDate().toString().padStart(2,"0"),m=t.getHours().toString().padStart(2,"0"),b=t.getMinutes().toString().padStart(2,"0"),M=a?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${o}-${l}T${m}:${b}:${M}.000Z`}const n=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(n).toISOString()},we=t=>{let r=z(JSON.parse(JSON.stringify(t)));return r=u.setHours(r,0),r=u.setMinutes(r,0),r=u.setSeconds(r,0),r=u.setMilliseconds(r,0),r},Ae=(t,r,a,n)=>{let o=t?z(t):z();return(r||r===0)&&(o=u.setHours(o,+r)),(a||a===0)&&(o=u.setMinutes(o,+a)),(n||n===0)&&(o=u.setSeconds(o,+n)),u.setMilliseconds(o,0)},me=(t,r)=>!t||!r?!1:u.isBefore(we(t),we(r)),ae=(t,r)=>!t||!r?!1:u.isEqual(we(t),we(r)),pe=(t,r)=>!t||!r?!1:u.isAfter(we(t),we(r)),Fe=(t,r,a)=>t!=null&&t[0]&&(t!=null&&t[1])?pe(a,t[0])&&me(a,t[1]):t!=null&&t[0]&&r?pe(a,t[0])&&me(a,r)||me(a,t[0])&&pe(a,r):!1,De=t=>{const r=u.set(new Date(t),{date:1});return we(r)},Pt=(t,r,a)=>r&&(a||a===0)?Object.fromEntries(["hours","minutes","seconds"].map(n=>n===r?[n,a]:[n,isNaN(+t[n])?void 0:+t[n]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Ee=t=>({hours:u.getHours(t),minutes:u.getMinutes(t),seconds:u.getSeconds(t)}),hn=(t,r)=>{if(r){const a=u.getYear(z(r));if(a>t)return 12;if(a===t)return u.getMonth(z(r))}},yn=(t,r)=>{if(r){const a=u.getYear(z(r));return a<t?-1:a===t?u.getMonth(z(r)):void 0}},Ie=t=>{if(t)return u.getYear(z(t))},be=(t,r)=>r?ar(t,r):t,kn=(t,r)=>r?or(t,r):t,wn=t=>t instanceof Date?t:u.parseISO(t),bn=(t,r)=>{const a=pe(t,r)?r:t,n=pe(r,t)?r:t;return u.eachDayOfInterval({start:a,end:n})},gr=t=>{const r=u.addMonths(t,1);return{month:u.getMonth(r),year:u.getYear(r)}},et=(t,r,a)=>{const n=u.startOfWeek(be(t,r),{weekStartsOn:+a}),o=u.endOfWeek(be(t,r),{weekStartsOn:+a});return[n,o]},Mn=(t,r)=>{const a={hours:u.getHours(z()),minutes:u.getMinutes(z()),seconds:r?u.getSeconds(z()):0};return Object.assign(a,t)},ve=(t,r,a)=>[u.set(z(t),{date:1}),u.set(z(),{month:r,year:a,date:1})],Be=(t,r,a)=>{let n=t?z(t):z();return(r||r===0)&&(n=u.setMonth(n,r)),a&&(n=u.setYear(n,a)),n},Dn=(t,r,a,n,o)=>{if(!n||o&&!r||!o&&!a)return!1;const l=o?u.addMonths(t,1):u.subMonths(t,1),m=[u.getMonth(l),u.getYear(l)];return o?!hr(...m,r):!pr(...m,a)},pr=(t,r,a)=>me(...ve(a,t,r))||ae(...ve(a,t,r)),hr=(t,r,a)=>pe(...ve(a,t,r))||ae(...ve(a,t,r)),Cn=(t,r,a,n,o,l,m)=>{if(typeof r=="function"&&!m)return r(t);const b=a?{locale:a}:void 0;return Array.isArray(t)?`${u.format(t[0],l,b)}${o&&!t[1]?"":n}${t[1]?u.format(t[1],l,b):""}`:u.format(t,l,b)},ze=t=>{if(t)return null;throw new Error(Je.prop("partial-range"))},tt=(t,r)=>{if(r)return t();throw new Error(Je.prop("range"))},Nt=t=>Array.isArray(t)?u.isValid(t[0])&&(t[1]?u.isValid(t[1]):!0):t?u.isValid(t):!1,yr=t=>u.set(z(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),_t=(t,r,a,n)=>{if(!t)return!0;if(n){const o=a==="max"?u.isBefore(t,r):u.isAfter(t,r),l={seconds:0,milliseconds:0};return o||u.isEqual(u.set(t,l),u.set(r,l))}return a==="max"?t.getTime()<=r.getTime():t.getTime()>=r.getTime()},Sn=(t,r,a,n,o)=>{const l=t?yr(t):z(r);return Array.isArray(n)?_t(n[0],l,a,!!r)&&_t(n[1],l,a,!!r)&&o:_t(n,l,a,!!r)&&o},Et=t=>u.set(z(),Ee(t)),kr=(t,r)=>Array.isArray(t)?t.map(a=>z(a)).filter(a=>u.getYear(z(a))===r).map(a=>u.getMonth(a)):[],We=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),Tn=()=>{const t=n=>{We.menuFocused=n},r=n=>{We.shiftKeyInMenu!==n&&(We.shiftKeyInMenu=n)};return{control:e.computed(()=>({shiftKeyInMenu:We.shiftKeyInMenu,menuFocused:We.menuFocused})),setMenuFocused:t,setShiftKey:r}},le=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Rt=e.ref(null),nt=e.ref(!1),Yt=e.ref(!1),Vt=e.ref(!1),Ot=e.ref(!1),ye=e.ref(0),ge=e.ref(0),Pe=()=>{const t=e.computed(()=>nt.value?[...le.selectionGrid,le.actionRow].filter(k=>k.length):Yt.value?[...le.timePicker[0],...le.timePicker[1],Ot.value?[]:[Rt.value],le.actionRow].filter(k=>k.length):Vt.value?[...le.monthPicker,le.actionRow]:[le.monthYear,...le.calendar,le.time,le.actionRow].filter(k=>k.length)),r=k=>{ye.value=k?ye.value+1:ye.value-1;let E=null;t.value[ge.value]&&(E=t.value[ge.value][ye.value]),E||(ye.value=k?ye.value-1:ye.value+1)},a=k=>{if(ge.value===0&&!k||ge.value===t.value.length&&k)return;ge.value=k?ge.value+1:ge.value-1,t.value[ge.value]?t.value[ge.value]&&!t.value[ge.value][ye.value]&&ye.value!==0&&(ye.value=t.value[ge.value].length-1):ge.value=k?ge.value-1:ge.value+1},n=k=>{let E=null;t.value[ge.value]&&(E=t.value[ge.value][ye.value]),E?E.focus({preventScroll:!nt.value}):ye.value=k?ye.value-1:ye.value+1},o=()=>{r(!0),n(!0)},l=()=>{r(!1),n(!1)},m=()=>{a(!1),n(!0)},b=()=>{a(!0),n(!0)},M=(k,E)=>{le[E]=k},A=(k,E)=>{le[E]=k},h=()=>{ye.value=0,ge.value=0};return{buildMatrix:M,buildMultiLevelMatrix:A,setTimePickerBackRef:k=>{Rt.value=k},setSelectionGrid:k=>{nt.value=k,h(),k||(le.selectionGrid=[])},setTimePicker:(k,E=!1)=>{Yt.value=k,Ot.value=E,h(),k||(le.timePicker[0]=[],le.timePicker[1]=[])},setTimePickerElements:(k,E=0)=>{le.timePicker[E]=k},arrowRight:o,arrowLeft:l,arrowUp:m,arrowDown:b,clearArrowNav:()=>{le.monthYear=[],le.calendar=[],le.time=[],le.actionRow=[],le.selectionGrid=[],le.timePicker[0]=[],le.timePicker[1]=[],nt.value=!1,Yt.value=!1,Ot.value=!1,Vt.value=!1,h(),Rt.value=null},setMonthPicker:k=>{Vt.value=k,h()},refSets:le}},Bn=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),wr=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:r=>`Increment ${r}`,decrementValue:r=>`Decrement ${r}`,openTpOverlay:r=>`Open ${r} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),$n=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,br=t=>{const r=typeof t=="object"&&t,a={static:!0,solo:!1};if(!t)return{...a,count:$n(!1)};const n=r?t:{},o=r?n.count??!0:t,l=$n(o);return Object.assign(a,n,{count:l})},Mr=(t,r,a)=>t||(typeof a=="string"?a:r),Dr=t=>typeof t=="boolean"?t?Bn({}):!1:Bn(t),Cr=t=>{const r={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...r,...t??{},enabled:!0}:{...r,enabled:t}},Sr=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),Tr=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),Br=t=>{const r={input:!1};return typeof t=="object"?{...r,...t??{},enabled:!0}:{enabled:t,...r}},$r=t=>({...{allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0},...t??{}}),ce=t=>{const r=()=>{const U=t.enableSeconds?":ss":"";return t.is24?`HH:mm${U}`:`hh:mm${U} aa`},a=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?r():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${r()}`:"MM/dd/yyyy",n=U=>Mn(U,t.enableSeconds),o=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[n(t.startTime[0]),n(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?n(t.startTime):null,l=e.computed(()=>br(t.multiCalendars)),m=e.computed(()=>o()),b=e.computed(()=>wr(t.ariaLabels)),M=e.computed(()=>Sr(t.filters)),A=e.computed(()=>Dr(t.transitions)),h=e.computed(()=>Tr(t.actionRow)),$=e.computed(()=>Mr(t.previewFormat,t.format,a())),_=e.computed(()=>Cr(t.textInput)),W=e.computed(()=>Br(t.inline)),R=e.computed(()=>$r(t.config));return{defaultedTransitions:A,defaultedMultiCalendars:l,defaultedStartTime:m,defaultedAriaLabels:b,defaultedFilters:M,defaultedActionRow:h,defaultedPreviewFormat:$,defaultedTextInput:_,defaultedInline:W,defaultedConfig:R,getDefaultPattern:a,getDefaultStartTime:o}},Ar=(t,r,a)=>{const n=e.ref(),{defaultedTextInput:o,getDefaultPattern:l}=ce(r),m=e.ref(""),b=e.toRef(r,"format");e.watch(n,()=>{t("internal-model-change",n.value)}),e.watch(b,()=>{g()});const M=i=>kn(i,r.timezone),A=i=>be(i,r.timezone),h=(i,Y,oe=!1)=>Cn(i,r.format,r.formatLocale,o.value.rangeSeparator,r.modelAuto,Y??l(),oe),$=i=>i?r.modelType?C(i):{hours:u.getHours(i),minutes:u.getMinutes(i),seconds:r.enableSeconds?u.getSeconds(i):0}:null,_=i=>r.modelType?C(i):{month:u.getMonth(i),year:u.getYear(i)},W=i=>Array.isArray(i)?tt(()=>[u.setYear(z(),i[0]),i[1]?u.setYear(z(),i[1]):ze(r.partialRange)],r.range):u.setYear(z(),+i),R=(i,Y)=>(typeof i=="string"||typeof i=="number")&&r.modelType?O(i):Y,U=i=>Array.isArray(i)?[R(i[0],Ae(null,+i[0].hours,+i[0].minutes,i[0].seconds)),R(i[1],Ae(null,+i[1].hours,+i[1].minutes,i[1].seconds))]:R(i,Ae(null,i.hours,i.minutes,i.seconds)),G=i=>Array.isArray(i)?r.multiDates?i.map(Y=>R(Y,Be(null,+Y.month,+Y.year))):tt(()=>[R(i[0],Be(null,+i[0].month,+i[0].year)),R(i[1],i[1]?Be(null,+i[1].month,+i[1].year):ze(r.partialRange))],r.range):R(i,Be(null,+i.month,+i.year)),k=i=>{if(Array.isArray(i))return i.map(Y=>O(Y));throw new Error(Je.dateArr("multi-dates"))},E=i=>{if(Array.isArray(i))return[z(i[0]),z(i[1])];throw new Error(Je.dateArr("week-picker"))},w=i=>r.modelAuto?Array.isArray(i)?[O(i[0]),O(i[1])]:r.autoApply?[O(i)]:[O(i),null]:Array.isArray(i)?tt(()=>[O(i[0]),i[1]?O(i[1]):ze(r.partialRange)],r.range):O(i),p=()=>{Array.isArray(n.value)&&r.range&&n.value.length===1&&n.value.push(ze(r.partialRange))},P=()=>{const i=n.value;return[C(i[0]),i[1]?C(i[1]):ze(r.partialRange)]},K=()=>n.value[1]?P():C(ue(n.value[0])),F=()=>(n.value||[]).map(i=>C(i)),te=()=>(p(),r.modelAuto?K():r.multiDates?F():Array.isArray(n.value)?tt(()=>P(),r.range):C(ue(n.value))),x=i=>!i||Array.isArray(i)&&!i.length?null:r.timePicker?U(ue(i)):r.monthPicker?G(ue(i)):r.yearPicker?W(ue(i)):r.multiDates?k(ue(i)):r.weekPicker?E(ue(i)):w(ue(i)),y=i=>{const Y=x(i);Nt(ue(Y))?(n.value=ue(Y),g()):(n.value=null,m.value="")},D=()=>{const i=Y=>u.format(Y,o.value.format);return`${i(n.value[0])} ${o.value.rangeSeparator} ${n.value[1]?i(n.value[1]):""}`},L=()=>a.value&&n.value?Array.isArray(n.value)?D():u.format(n.value,o.value.format):h(n.value),Q=()=>n.value?r.multiDates?n.value.map(i=>h(i)).join("; "):o.value.enabled&&typeof o.value.format=="string"?L():h(n.value):"",g=()=>{!r.format||typeof r.format=="string"||o.value.enabled&&typeof o.value.format=="string"?m.value=Q():m.value=r.format(n.value)},O=i=>{if(r.utc){const Y=new Date(i);return r.utc==="preserve"?new Date(Y.getTime()+Y.getTimezoneOffset()*6e4):Y}return r.modelType?r.modelType==="date"||r.modelType==="timestamp"?A(new Date(i)):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?u.parse(i,l(),new Date):A(u.parse(i,r.modelType,new Date)):A(new Date(i))},C=i=>i?r.utc?mr(i,r.utc==="preserve",r.enableSeconds):r.modelType?r.modelType==="timestamp"?+M(i):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?h(M(i)):h(M(i),r.modelType,!0):M(i):"",B=(i,Y=!1)=>{if(t("update:model-value",i),r.emitTimezone&&Y){const oe=Array.isArray(i)?i.map(d=>be(ue(d)),r.emitTimezone):be(ue(i),r.emitTimezone);t("update:model-timezone-value",oe)}},c=i=>Array.isArray(n.value)?r.multiDates?n.value.map(Y=>i(Y)):[i(n.value[0]),n.value[1]?i(n.value[1]):ze(r.partialRange)]:i(ue(n.value)),s=i=>B(ue(c(i)));return{inputValue:m,internalModelValue:n,checkBeforeEmit:()=>n.value?r.range?r.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:y,formatInputValue:g,emitModelValue:()=>(g(),r.monthPicker?s(_):r.timePicker?s($):r.yearPicker?s(u.getYear):r.weekPicker?B(n.value.map(i=>C(i)),!0):B(te(),!0))}},vr=(t,r)=>{const{defaultedFilters:a}=ce(t),{validateMonthYearInRange:n}=He(t),o=(A,h)=>{let $=A;return a.value.months.includes(u.getMonth($))?($=h?u.addMonths(A,1):u.subMonths(A,1),o($,h)):$},l=(A,h)=>{let $=A;return a.value.years.includes(u.getYear($))?($=h?u.addYears(A,1):u.subYears(A,1),l($,h)):$},m=(A,h=!1)=>{const $=u.set(new Date,{month:t.month,year:t.year});let _=A?u.addMonths($,1):u.subMonths($,1);t.disableYearSelect&&(_=u.setYear(_,t.year));let W=u.getMonth(_),R=u.getYear(_);a.value.months.includes(W)&&(_=o(_,A),W=u.getMonth(_),R=u.getYear(_)),a.value.years.includes(R)&&(_=l(_,A),R=u.getYear(_)),n(W,R,A,t.preventMinMaxNavigation)&&b(W,R,h)},b=(A,h,$)=>{r("update-month-year",{month:A,year:h,fromNav:$})},M=e.computed(()=>A=>Dn(u.set(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,A));return{handleMonthYearChange:m,isDisabled:M,updateMonthYear:b}};var Le=(t=>(t.center="center",t.left="left",t.right="right",t))(Le||{}),Ce=(t=>(t.month="month",t.year="year",t))(Ce||{}),Re=(t=>(t.top="top",t.bottom="bottom",t))(Re||{}),Ye=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(Ye||{}),Te=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Te||{});const Pr=({menuRef:t,menuRefInner:r,inputRef:a,pickerWrapperRef:n,inline:o,emit:l,props:m,slots:b})=>{const M=e.ref({}),A=e.ref(!1),h=e.ref({top:"0",left:"0"}),$=e.ref(!1),_=e.toRef(m,"teleportCenter");e.watch(_,()=>{h.value=JSON.parse(JSON.stringify({})),p()});const W=C=>{if(m.teleport){const B=C.getBoundingClientRect();return{left:B.left+window.scrollX,top:B.top+window.scrollY}}return{top:0,left:0}},R=(C,B)=>{h.value.left=`${C+B-M.value.width}px`},U=C=>{h.value.left=`${C}px`},G=(C,B)=>{m.position===Le.left&&U(C),m.position===Le.right&&R(C,B),m.position===Le.center&&(h.value.left=`${C+B/2-M.value.width/2}px`)},k=C=>{const{width:B,height:c}=C.getBoundingClientRect(),{top:s,left:S}=m.altPosition?m.altPosition(C):W(C);return{top:+s,left:+S,width:B,height:c}},E=()=>{h.value.left="50%",h.value.top="50%",h.value.transform="translate(-50%, -50%)",h.value.position="fixed",delete h.value.opacity},w=()=>{const C=de(a),{top:B,left:c,transform:s}=m.altPosition(C);h.value={top:`${B}px`,left:`${c}px`,transform:s??""}},p=(C=!0)=>{var B;if(!o.value.enabled){if(_.value)return E();if(m.altPosition!==null)return w();if(C){const c=m.teleport?(B=r.value)==null?void 0:B.$el:t.value;c&&(M.value=c.getBoundingClientRect()),l("recalculate-position")}return D()}},P=({inputEl:C,left:B,width:c})=>{window.screen.width>768&&!A.value&&G(B,c),te(C)},K=C=>{const{top:B,left:c,height:s,width:S}=k(C);h.value.top=`${s+B+ +m.offset}px`,$.value=!1,A.value||(h.value.left=`${c+S/2-M.value.width/2}px`),P({inputEl:C,left:c,width:S})},F=C=>{const{top:B,left:c,width:s}=k(C);h.value.top=`${B-+m.offset-M.value.height}px`,$.value=!0,P({inputEl:C,left:c,width:s})},te=C=>{if(m.autoPosition){const{left:B,width:c}=k(C),{left:s,right:S}=M.value;if(!A.value){if(Math.abs(s)!==Math.abs(S)){if(s<=0)return A.value=!0,U(B);if(S>=document.documentElement.clientWidth)return A.value=!0,R(B,c)}return G(B,c)}}},x=()=>{const C=de(a);if(C){const{height:B}=M.value,{top:c,height:s}=C.getBoundingClientRect(),j=window.innerHeight-c-s,i=c;return B<=j?Re.bottom:B>j&&B<=i?Re.top:j>=i?Re.bottom:Re.top}return Re.bottom},y=C=>x()===Re.bottom?K(C):F(C),D=()=>{const C=de(a);if(C)return m.autoPosition?y(C):K(C)},L=function(C){if(C){const B=C.scrollHeight>C.clientHeight,s=window.getComputedStyle(C).overflowY.indexOf("hidden")!==-1;return B&&!s}return!0},Q=function(C){return!C||C===document.body||C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:L(C)?C:Q(C.parentNode)},g=C=>{if(C)switch(m.position){case Le.left:return{left:0,transform:"translateX(0)"};case Le.right:return{left:`${C.width}px`,transform:"translateX(-100%)"};default:return{left:`${C.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:$,menuStyle:h,xCorrect:A,setMenuPosition:p,getScrollableParent:Q,shadowRender:(C,B)=>{var oe,d,V;const c=document.createElement("div"),s=(oe=de(a))==null?void 0:oe.getBoundingClientRect();c.setAttribute("id","dp--temp-container");const S=(d=n.value)!=null&&d.clientWidth?n.value:document.body;S.append(c);const j=document.getElementById("dp--temp-container"),i=g(s),Y=e.h(C,{...B,shadow:!0,style:{opacity:0,position:"absolute",...i}},Object.fromEntries(Object.keys(b).filter(H=>["right-sidebar","left-sidebar"].includes(H)).map(H=>[H,b[H]])));e.render(Y,j),M.value=(V=Y.el)==null?void 0:V.getBoundingClientRect(),e.render(null,j),S.removeChild(j)}}},Ne=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],Nr=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],_r={all:()=>Ne,monthYear:()=>Ne.filter(t=>t.use.includes("month-year")),input:()=>Nr,timePicker:()=>Ne.filter(t=>t.use.includes("time")),action:()=>Ne.filter(t=>t.use.includes("action")),calendar:()=>Ne.filter(t=>t.use.includes("calendar")),menu:()=>Ne.filter(t=>t.use.includes("menu")),shared:()=>Ne.filter(t=>t.use.includes("shared")),yearMode:()=>Ne.filter(t=>t.use.includes("year-mode"))},ke=(t,r,a)=>{const n=[];return _r[r]().forEach(o=>{t[o.name]&&n.push(o.name)}),a!=null&&a.length&&a.forEach(o=>{o.slot&&n.push(o.slot)}),n},je=t=>{const r=e.computed(()=>n=>t.value?n?t.value.open:t.value.close:""),a=e.computed(()=>n=>t.value?n?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:r,showTransition:!!t.value,menuTransition:a}},xe=(t,r)=>{const a=z(be(new Date,t.timezone)),n=e.ref([{month:u.getMonth(a),year:u.getYear(a)}]),o=e.reactive({hours:t.range?[u.getHours(a),u.getHours(a)]:u.getHours(a),minutes:t.range?[u.getMinutes(a),u.getMinutes(a)]:u.getMinutes(a),seconds:t.range?[0,0]:0}),l=e.computed({get:()=>t.internalModelValue,set:M=>{!t.readonly&&!t.disabled&&r("update:internal-model-value",M)}}),m=e.computed(()=>M=>n.value[M]?n.value[M].month:0),b=e.computed(()=>M=>n.value[M]?n.value[M].year:0);return{calendars:n,time:o,modelValue:l,month:m,year:b}},Er=(t,r)=>{const{defaultedMultiCalendars:a}=ce(r),{isDisabled:n,matchDate:o}=He(r),l=e.ref(null),m=e.ref(z(be(new Date,r.timezone))),b=s=>{!s.current&&r.hideOffsetDates||(l.value=s.value)},M=()=>{l.value=null},A=s=>Array.isArray(t.value)&&r.range&&t.value[0]&&l.value?s?pe(l.value,t.value[0]):me(l.value,t.value[0]):!0,h=(s,S)=>{const j=()=>t.value?S?t.value[0]||null:t.value[1]:null,i=t.value&&Array.isArray(t.value)?j():null;return ae(z(s.value),i)},$=s=>{const S=Array.isArray(t.value)?t.value[0]:null;return s?!me(l.value??null,S):!0},_=(s,S=!0)=>(r.range||r.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?r.hideOffsetDates&&!s.current?!1:ae(z(s.value),t.value[S?0:1]):r.range?h(s,S)&&$(S)||ae(s.value,Array.isArray(t.value)?t.value[0]:null)&&A(S):!1,W=(s,S,j)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?s?!1:j?pe(t.value[0],S.value):me(t.value[0],S.value):!1,R=s=>!t.value||r.hideOffsetDates&&!s.current?!1:r.range?r.modelAuto&&Array.isArray(t.value)?ae(s.value,t.value[0]?t.value[0]:m.value):!1:r.multiDates&&Array.isArray(t.value)?t.value.some(S=>ae(S,s.value)):ae(s.value,t.value?t.value:m.value),U=s=>{if(r.autoRange||r.weekPicker){if(l.value){if(r.hideOffsetDates&&!s.current)return!1;const S=u.addDays(l.value,+r.autoRange),j=et(z(l.value),r.timezone,r.weekStart);return r.weekPicker?ae(j[1],z(s.value)):ae(S,z(s.value))}return!1}return!1},G=s=>{if(r.autoRange||r.weekPicker){if(l.value){const S=u.addDays(l.value,+r.autoRange);if(r.hideOffsetDates&&!s.current)return!1;const j=et(z(l.value),r.timezone,r.weekStart);return r.weekPicker?pe(s.value,j[0])&&me(s.value,j[1]):pe(s.value,l.value)&&me(s.value,S)}return!1}return!1},k=s=>{if(r.autoRange||r.weekPicker){if(l.value){if(r.hideOffsetDates&&!s.current)return!1;const S=et(z(l.value),r.timezone,r.weekStart);return r.weekPicker?ae(S[0],s.value):ae(l.value,s.value)}return!1}return!1},E=s=>Fe(t.value,l.value,s.value),w=()=>r.modelAuto&&Array.isArray(r.internalModelValue)?!!r.internalModelValue[0]:!1,p=()=>r.modelAuto?fn(r.internalModelValue):!0,P=s=>{if(Array.isArray(t.value)&&t.value.length||r.weekPicker)return!1;const S=r.range?!_(s)&&!_(s,!1):!0;return!n(s.value)&&!R(s)&&!(!s.current&&r.hideOffsetDates)&&S},K=s=>r.range?r.modelAuto?w()&&R(s):!1:R(s),F=s=>{var S;return r.highlight?o(s.value,(S=r.arrMapValues)!=null&&S.highlightedDates?r.arrMapValues.highlightedDates:r.highlight):!1},te=s=>n(s.value)&&r.highlightDisabledDays===!1,x=s=>{var S;return(S=r.highlightWeekDays)==null?void 0:S.includes(s.value.getDay())},y=s=>(r.range||r.weekPicker)&&(!(a.value.count>0)||s.current)&&p()&&!(!s.current&&r.hideOffsetDates)&&!R(s)?E(s):!1,D=s=>{const{isRangeStart:S,isRangeEnd:j}=g(s),i=r.range?S||j:!1;return{dp__cell_offset:!s.current,dp__pointer:!r.disabled&&!(!s.current&&r.hideOffsetDates)&&!n(s.value),dp__cell_disabled:n(s.value),dp__cell_highlight:!te(s)&&(F(s)||x(s))&&!K(s)&&!i,dp__cell_highlight_active:!te(s)&&(F(s)||x(s))&&K(s),dp__today:!r.noToday&&ae(s.value,m.value)&&s.current}},L=s=>({dp__active_date:K(s),dp__date_hover:P(s)}),Q=s=>({...O(s),...C(s),dp__range_between_week:y(s)&&r.weekPicker}),g=s=>{const S=a.value.count>0?s.current&&_(s)&&p():_(s)&&p(),j=a.value.count>0?s.current&&_(s,!1)&&p():_(s,!1)&&p();return{isRangeStart:S,isRangeEnd:j}},O=s=>{const{isRangeStart:S,isRangeEnd:j}=g(s);return{dp__range_start:S,dp__range_end:j,dp__range_between:y(s)&&!r.weekPicker,dp__date_hover_start:W(P(s),s,!0),dp__date_hover_end:W(P(s),s,!1)}},C=s=>({...O(s),dp__cell_auto_range:G(s),dp__cell_auto_range_start:k(s),dp__cell_auto_range_end:U(s)}),B=s=>r.range?r.autoRange?C(s):r.modelAuto?{...L(s),...O(s)}:O(s):r.weekPicker?Q(s):L(s);return{setHoverDate:b,clearHoverDate:M,getDayClassData:s=>r.hideOffsetDates&&!s.current?{}:{...D(s),...B(s),[r.dayClass?r.dayClass(s.value):""]:!0,[r.calendarCellClassName]:!!r.calendarCellClassName}}},He=t=>{const{defaultedFilters:r}=ce(t),a=()=>{if(t.timezone)return t.timezone;if(t.utc)return"UTC"},n=y=>{const D=we(o(z(y))).toISOString(),[L]=D.split("T");return L},o=y=>t.utc==="preserve"?kn(y,a()):be(y,a()),l=y=>{var S;const D=t.maxDate?pe(o(y),o(z(t.maxDate))):!1,L=t.minDate?me(o(y),o(z(t.minDate))):!1,Q=A(o(y),(S=t.arrMapValues)!=null&&S.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),O=r.value.months.map(j=>+j).includes(u.getMonth(y)),C=t.disabledWeekDays.length?t.disabledWeekDays.some(j=>+j===u.getDay(y)):!1,B=$(y),c=u.getYear(y),s=c<+t.yearRange[0]||c>+t.yearRange[1];return!(D||L||Q||O||s||C||B)},m=(y,D)=>me(...ve(t.minDate,y,D))||ae(...ve(t.minDate,y,D)),b=(y,D)=>pe(...ve(t.maxDate,y,D))||ae(...ve(t.maxDate,y,D)),M=(y,D,L)=>{let Q=!1;return t.maxDate&&L&&b(y,D)&&(Q=!0),t.minDate&&!L&&m(y,D)&&(Q=!0),Q},A=(y,D)=>y?D instanceof Map?!!D.get(n(y)):Array.isArray(D)?D.some(L=>ae(o(z(L)),o(y))):D?D(z(JSON.parse(JSON.stringify(y)))):!1:!0,h=(y,D,L,Q)=>{let g=!1;return Q?t.minDate&&t.maxDate?g=M(y,D,L):(t.minDate&&m(y,D)||t.maxDate&&b(y,D))&&(g=!0):g=!0,g},$=y=>{var D,L,Q,g,O;return Array.isArray(t.allowedDates)&&!((D=t.allowedDates)!=null&&D.length)?!0:(L=t.arrMapValues)!=null&&L.allowedDates?!A(y,(Q=t.arrMapValues)==null?void 0:Q.allowedDates):(g=t.allowedDates)!=null&&g.length?!((O=t.allowedDates)!=null&&O.some(C=>ae(o(z(C)),o(y)))):!1},_=y=>!l(y),W=y=>t.noDisabledRange?!u.eachDayOfInterval({start:y[0],end:y[1]}).some(L=>_(L)):!0,R=(y,D,L=0)=>{if(Array.isArray(D)&&D[L]){const Q=u.differenceInCalendarDays(y,D[L]),g=bn(D[L],y),O=g.length===1?0:g.filter(B=>_(B)).length,C=Math.abs(Q)-O;if(t.minRange&&t.maxRange)return C>=+t.minRange&&C<=+t.maxRange;if(t.minRange)return C>=+t.minRange;if(t.maxRange)return C<=+t.maxRange}return!0},U=y=>new Map(y.map(D=>[n(D),!0])),G=y=>Array.isArray(y)&&y.length>0,k=()=>{const y={disabledDates:null,allowedDates:null,highlightedDates:null};return G(t.allowedDates)&&(y.allowedDates=U(t.allowedDates)),G(t.highlight)&&(y.highlightedDates=U(t.highlight)),G(t.disabledDates)&&(y.disabledDates=U(t.disabledDates)),y},E=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,w=y=>Array.isArray(y)?[y[0]?Et(y[0]):null,y[1]?Et(y[1]):null]:Et(y),p=(y,D,L)=>y.find(Q=>+Q.hours===u.getHours(D)&&Q.minutes==="*"?!0:+Q.minutes===u.getMinutes(D)&&+Q.hours===u.getHours(D))&&L,P=(y,D,L)=>{const[Q,g]=y,[O,C]=D;return!p(Q,O,L)&&!p(g,C,L)&&L},K=(y,D)=>{const L=Array.isArray(D)?D:[D];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?P(t.disabledTimes,L,y):!L.some(Q=>p(t.disabledTimes,Q,y)):y},F=(y,D)=>{const L=Array.isArray(D)?[Ee(D[0]),D[1]?Ee(D[1]):void 0]:Ee(D),Q=!t.disabledTimes(L);return y&&Q},te=(y,D)=>t.disabledTimes?Array.isArray(t.disabledTimes)?K(D,y):F(D,y):D;return{isDisabled:_,validateDate:l,validateMonthYearInRange:h,isDateRangeAllowed:W,checkMinMaxRange:R,matchDate:A,mapDatesArrToMap:k,isValidTime:y=>{let D=!0;if(!y||E())return!0;const L=!t.minDate&&!t.maxDate?w(y):y;return(t.maxTime||t.maxDate)&&(D=Sn(t.maxTime,t.maxDate,"max",ue(L),D)),(t.minTime||t.minDate)&&(D=Sn(t.minTime,t.minDate,"min",ue(L),D)),te(y,D)}}},rt=()=>{const t=e.computed(()=>(n,o)=>n==null?void 0:n.includes(o)),r=e.computed(()=>(n,o)=>n.count?n.solo?!0:o===0:!0),a=e.computed(()=>(n,o)=>n.count?n.solo?!0:o===n.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:r,showRightIcon:a}},Rr=(t,r,a)=>{const n=e.ref(0),o=e.reactive({[Ye.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[Ye.calendar]:!1,[Ye.header]:!1}),l=h=>{var $;($=t.flow)!=null&&$.length&&(o[h]=!0,Object.keys(o).filter(_=>!o[_]).length||A())},m=()=>{var h;(h=t.flow)!=null&&h.length&&n.value!==-1&&(n.value+=1,r("flow-step",n.value),A())},b=()=>{n.value=-1},M=(h,$,..._)=>{t.flow[n.value]===h&&a.value&&a.value[$](..._)},A=()=>{M(Te.month,"toggleMonthPicker",!0),M(Te.year,"toggleYearPicker",!0),M(Te.calendar,"toggleTimePicker",!1,!0),M(Te.time,"toggleTimePicker",!0,!0);const h=t.flow[n.value];(h===Te.hours||h===Te.minutes||h===Te.seconds)&&M(h,"toggleTimePicker",!0,!0,h)};return{childMount:l,updateFlowStep:m,resetFlow:b,flowStep:n}},at={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1}},Se={...at,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})}},Yr={key:1,class:"dp__input_wrap"},Vr=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid","onKeydown"],Or={key:2,class:"dp__clear_icon"},Ir=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...at},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:r,emit:a}){const n=t,{defaultedTextInput:o,defaultedAriaLabels:l,defaultedInline:m,defaultedConfig:b,getDefaultPattern:M,getDefaultStartTime:A}=ce(n),h=e.ref(),$=e.ref(null),_=e.ref(!1),W=e.ref(!1),R=e.computed(()=>({dp__pointer:!n.disabled&&!n.readonly&&!o.value.enabled,dp__disabled:n.disabled,dp__input_readonly:!o.value.enabled,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:!!n.state,dp__input_invalid:n.state===!1,dp__input_focus:_.value||n.isMenuOpen,dp__input_reg:!o.value.enabled,[n.inputClassName]:!!n.inputClassName})),U=()=>{a("set-input-date",null),n.autoApply&&(a("set-empty-date"),h.value=null)},G=g=>{const O=A();return fr(g,o.value.format??M(),O??Mn({},n.enableSeconds),n.inputValue,W.value)},k=g=>{const{rangeSeparator:O}=o.value,[C,B]=g.split(`${O}`);if(C){const c=G(C.trim()),s=B?G(B.trim()):null,S=c&&s?[c,s]:[c];h.value=c?S:null}},E=()=>{W.value=!0},w=g=>{if(n.range)k(g);else if(n.multiDates){const O=g.split(";");h.value=O.map(C=>G(C.trim())).filter(C=>C)}else h.value=G(g)},p=g=>{var C;const O=typeof g=="string"?g:(C=g.target)==null?void 0:C.value;O!==""?(o.value.openMenu&&!n.isMenuOpen&&a("open"),w(O),a("set-input-date",h.value)):U(),W.value=!1,a("update:input-value",O)},P=g=>{o.value.enabled?(w(g.target.value),o.value.enterSubmit&&Nt(h.value)&&n.inputValue!==""?(a("set-input-date",h.value,!0),h.value=null):o.value.enterSubmit&&n.inputValue===""&&(h.value=null,a("clear"))):te(g)},K=g=>{o.value.enabled&&o.value.tabSubmit&&w(g.target.value),o.value.tabSubmit&&Nt(h.value)&&n.inputValue!==""?(a("set-input-date",h.value,!0),h.value=null):o.value.tabSubmit&&n.inputValue===""&&(h.value=null,a("clear"))},F=()=>{var g;_.value=!0,a("focus"),o.value.enabled&&o.value.selectOnFocus&&((g=$.value)==null||g.select())},te=g=>{g.preventDefault(),$e(g,b.value,!0),o.value.enabled&&o.value.openMenu&&!m.value.input&&!n.isMenuOpen?a("open"):o.value.enabled||a("toggle")},x=()=>{a("real-blur"),_.value=!1,(!n.isMenuOpen||m.value.enabled&&m.value.input)&&a("blur"),n.autoApply&&o.value.enabled&&h.value&&!n.isMenuOpen&&(a("set-input-date",h.value),a("select-date"),h.value=null)},y=g=>{$e(g,b.value,!0),a("clear")},D=g=>{if(!o.value.enabled){if(g.code==="Tab")return;g.preventDefault()}};return r({focusInput:()=>{var g;(g=$.value)==null||g.focus({preventScroll:!0})},setParsedDate:g=>{h.value=g}}),(g,O)=>{var C;return e.openBlock(),e.createElementBlock("div",{onClick:te},[g.$slots.trigger&&!g.$slots["dp-input"]&&!e.unref(m).enabled?e.renderSlot(g.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!g.$slots.trigger&&(!e.unref(m).enabled||e.unref(m).input)?(e.openBlock(),e.createElementBlock("div",Yr,[g.$slots["dp-input"]&&!g.$slots.trigger&&!e.unref(m).enabled?e.renderSlot(g.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:p,onEnter:P,onTab:K,onClear:y,onBlur:x,onKeypress:D,onPaste:E}):e.createCommentVNode("",!0),g.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:$,id:g.uid?`dp-input-${g.uid}`:void 0,name:g.name,class:e.normalizeClass(R.value),inputmode:e.unref(o).enabled?"text":"none",placeholder:g.placeholder,disabled:g.disabled,readonly:g.readonly,required:g.required,value:t.inputValue,autocomplete:g.autocomplete,"aria-label":(C=e.unref(l))==null?void 0:C.input,"aria-disabled":g.disabled||void 0,"aria-invalid":g.state===!1?!0:void 0,onInput:p,onKeydown:[e.withKeys(P,["enter"]),e.withKeys(K,["tab"]),D],onBlur:x,onFocus:F,onKeypress:D,onPaste:E},null,42,Vr)),e.createElementVNode("div",{onClick:O[2]||(O[2]=B=>a("toggle"))},[g.$slots["input-icon"]&&!g.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:O[0]||(O[0]=B=>a("toggle"))},[e.renderSlot(g.$slots,"input-icon")])):e.createCommentVNode("",!0),!g.$slots["input-icon"]&&!g.hideInputIcon&&!g.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(Ke),{key:1,onClick:O[1]||(O[1]=B=>a("toggle")),class:"dp__input_icon dp__input_icons"})):e.createCommentVNode("",!0)]),g.$slots["clear-icon"]&&t.inputValue&&g.clearable&&!g.disabled&&!g.readonly?(e.openBlock(),e.createElementBlock("span",Or,[e.renderSlot(g.$slots,"clear-icon",{clear:y})])):e.createCommentVNode("",!0),g.clearable&&!g.$slots["clear-icon"]&&t.inputValue&&!g.disabled&&!g.readonly?(e.openBlock(),e.createBlock(e.unref(Xt),{key:3,class:"dp__clear_icon dp__input_icons",onClick:O[3]||(O[3]=e.withModifiers(B=>y(B),["prevent"]))})):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),zr=["title"],Lr={class:"dp__action_buttons"},Hr=["onKeydown","disabled"],Kr=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Se},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:r}){const a=t,{defaultedActionRow:n,defaultedPreviewFormat:o,defaultedMultiCalendars:l,defaultedTextInput:m,defaultedInline:b,getDefaultPattern:M}=ce(a),{isValidTime:A}=He(a),{buildMatrix:h}=Pe(),$=e.ref(null),_=e.ref(null);e.onMounted(()=>{a.arrowNavigation&&h([de($),de(_)],"actionRow")});const W=e.computed(()=>a.range&&!a.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),R=e.computed(()=>!U.value||!G.value||!W.value),U=e.computed(()=>!a.enableTimePicker||a.ignoreTimeValidation?!0:A(a.internalModelValue)),G=e.computed(()=>a.monthPicker?a.range&&Array.isArray(a.internalModelValue)?!a.internalModelValue.filter(y=>!F(y)).length:F(a.internalModelValue):!0),k=()=>{const x=o.value;return a.timePicker||a.monthPicker,x(ue(a.internalModelValue))},E=()=>{const x=a.internalModelValue;return l.value.count>0?`${w(x[0])} - ${w(x[1])}`:[w(x[0]),w(x[1])]},w=x=>Cn(x,o.value,a.formatLocale,m.value.rangeSeparator,a.modelAuto,M()),p=e.computed(()=>!a.internalModelValue||!a.menuMount?"":typeof o.value=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?E():a.multiDates?a.internalModelValue.map(x=>`${w(x)}`):a.modelAuto?`${w(a.internalModelValue[0])}`:`${w(a.internalModelValue[0])} -`:w(a.internalModelValue):k()),P=()=>a.multiDates?"; ":" - ",K=e.computed(()=>Array.isArray(p.value)?p.value.join(P()):p.value),F=x=>{if(!a.monthPicker)return!0;let y=!0;const D=z(De(x));if(a.minDate&&a.maxDate){const L=z(De(a.minDate)),Q=z(De(a.maxDate));return pe(D,L)&&me(D,Q)||ae(D,L)||ae(D,Q)}if(a.minDate){const L=z(De(a.minDate));y=pe(D,L)||ae(D,L)}if(a.maxDate){const L=z(De(a.maxDate));y=me(D,L)||ae(D,L)}return y},te=()=>{U.value&&G.value&&W.value?r("select-date"):r("invalid-select")};return(x,y)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[x.$slots["action-row"]?e.renderSlot(x.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:x.internalModelValue,disabled:R.value,selectDate:()=>x.$emit("select-date"),closePicker:()=>x.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(n).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:K.value},[x.$slots["action-preview"]?e.renderSlot(x.$slots,"action-preview",{key:0,value:x.internalModelValue}):e.createCommentVNode("",!0),x.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(K.value),1)],64))],8,zr)):e.createCommentVNode("",!0),e.createElementVNode("div",Lr,[x.$slots["action-buttons"]?e.renderSlot(x.$slots,"action-buttons",{key:0,value:x.internalModelValue}):e.createCommentVNode("",!0),x.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref(b).enabled&&e.unref(n).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",ref_key:"cancelButtonRef",ref:$,class:"dp__action_button dp__action_cancel",onClick:y[0]||(y[0]=D=>x.$emit("close-picker")),onKeydown:[y[1]||(y[1]=e.withKeys(D=>x.$emit("close-picker"),["enter"])),y[2]||(y[2]=e.withKeys(D=>x.$emit("close-picker"),["space"]))]},e.toDisplayString(x.cancelText),545)):e.createCommentVNode("",!0),e.unref(n).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",ref_key:"cancelButtonRef",ref:$,class:"dp__action_button dp__action_cancel",onClick:y[3]||(y[3]=D=>x.$emit("select-now")),onKeydown:[y[4]||(y[4]=e.withKeys(D=>x.$emit("select-now"),["enter"])),y[5]||(y[5]=e.withKeys(D=>x.$emit("select-now"),["space"]))]},e.toDisplayString(x.nowButtonLabel),545)):e.createCommentVNode("",!0),e.unref(n).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,type:"button",class:"dp__action_button dp__action_select",onKeydown:[e.withKeys(te,["enter"]),e.withKeys(te,["space"])],onClick:te,disabled:R.value,ref_key:"selectButtonRef",ref:_},e.toDisplayString(x.selectText),41,Hr)):e.createCommentVNode("",!0)],64))])],64))],4))}}),Ur=["onKeydown"],Wr={class:"dp__selection_grid_header"},jr=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],xr=["aria-label","onKeydown"],qe=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:r,emit:a}){const n=t,{setSelectionGrid:o,buildMultiLevelMatrix:l,setMonthPicker:m}=Pe(),{defaultedAriaLabels:b,defaultedTextInput:M,defaultedConfig:A}=ce(n),{hideNavigationButtons:h}=rt(),$=e.ref(!1),_=e.ref(null),W=e.ref(null),R=e.ref([]),U=e.ref(),G=e.ref(null),k=e.ref(0),E=e.ref(null);e.onBeforeUpdate(()=>{_.value=null}),e.onMounted(()=>{e.nextTick().then(()=>y()),p(),w(!0)}),e.onUnmounted(()=>w(!1));const w=c=>{var s;n.arrowNavigation&&((s=n.headerRefs)!=null&&s.length?m(c):o(c))},p=()=>{var s;const c=de(W);c&&(M.value.enabled||(_.value?(s=_.value)==null||s.focus({preventScroll:!0}):c.focus({preventScroll:!0})),$.value=c.clientHeight<c.scrollHeight)},P=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!n.useRelative,"dp--overlay-relative":n.useRelative})),K=e.computed(()=>n.useRelative?{height:`${n.height}px`,width:"260px"}:void 0),F=e.computed(()=>({dp__overlay_col:!0})),te=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:$.value,dp__button_bottom:n.isLast})),x=e.computed(()=>{var c,s;return{dp__overlay_container:!0,dp__container_flex:((c=n.items)==null?void 0:c.length)<=6,dp__container_block:((s=n.items)==null?void 0:s.length)>6}}),y=()=>{e.nextTick().then(()=>{const c=de(_),s=de(W),S=de(G),j=de(E),i=S?S.getBoundingClientRect().height:0;s&&(k.value=s.getBoundingClientRect().height-i),c&&j&&(j.scrollTop=c.offsetTop-j.offsetTop-(k.value/2-c.getBoundingClientRect().height)-i)})},D=c=>{c.disabled||a("selected",c.value)},L=()=>{a("toggle"),a("reset-flow")},Q=()=>{n.escClose&&L()},g=(c,s,S,j)=>{c&&(s.active&&(_.value=c),n.arrowNavigation&&(Array.isArray(R.value[S])?R.value[S][j]=c:R.value[S]=[c],O()))},O=()=>{var s,S;const c=(s=n.headerRefs)!=null&&s.length?[n.headerRefs].concat(R.value):R.value.concat([n.skipButtonRef?[]:[G.value]]);l(ue(c),(S=n.headerRefs)!=null&&S.length?"monthPicker":"selectionGrid")},C=c=>{n.arrowNavigation||$e(c,A.value,!0)},B=c=>{U.value=c,a("hover-value",c)};return r({focusGrid:p}),(c,s)=>{var S;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:W,class:e.normalizeClass(P.value),style:e.normalizeStyle(K.value),role:"dialog",tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(Q,["prevent"]),["esc"]),s[0]||(s[0]=e.withKeys(e.withModifiers(j=>C(j),["prevent"]),["left"])),s[1]||(s[1]=e.withKeys(e.withModifiers(j=>C(j),["prevent"]),["up"])),s[2]||(s[2]=e.withKeys(e.withModifiers(j=>C(j),["prevent"]),["down"])),s[3]||(s[3]=e.withKeys(e.withModifiers(j=>C(j),["prevent"]),["right"]))]},[e.createElementVNode("div",{class:e.normalizeClass(x.value),ref_key:"containerRef",ref:E,role:"grid",style:e.normalizeStyle({height:`${k.value}px`})},[e.createElementVNode("div",Wr,[e.renderSlot(c.$slots,"header")]),c.$slots.overlay?e.renderSlot(c.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(c.items,(j,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:c.items.length>=3}]),key:i,role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(j,(Y,oe)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(F.value),key:Y.value,"aria-selected":Y.active,"aria-disabled":Y.disabled||void 0,ref_for:!0,ref:d=>g(d,Y,i,oe),tabindex:"0",onClick:d=>D(Y),onKeydown:[e.withKeys(e.withModifiers(d=>D(Y),["prevent"]),["enter"]),e.withKeys(e.withModifiers(d=>D(Y),["prevent"]),["space"])],onMouseover:d=>B(Y.value)},[e.createElementVNode("div",{class:e.normalizeClass(Y.className)},[c.$slots.item?e.renderSlot(c.$slots,"item",{key:0,item:Y}):e.createCommentVNode("",!0),c.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(Y.text),1)],64))],2)],42,jr))),128))],2))),128))],6),c.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,type:"button","aria-label":(S=e.unref(b))==null?void 0:S.toggleOverlay,class:e.normalizeClass(te.value),tabindex:"0",ref_key:"toggleButton",ref:G,onClick:L,onKeydown:[e.withKeys(L,["enter"]),e.withKeys(L,["tab"])]},[e.renderSlot(c.$slots,"button-icon")],42,xr)),[[e.vShow,!e.unref(h)(c.hideNavigation,c.type)]]):e.createCommentVNode("",!0)],46,Ur)}}}),ot=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const r=t,a=e.computed(()=>r.multiCalendars>0?[...Array(r.multiCalendars).keys()]:[0]),n=e.computed(()=>({dp__instance_calendar:r.multiCalendars>0}));return(o,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!o.stretch,"dp--menu--inner-stretched":o.stretch,dp__flex_display:o.multiCalendars>0})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,(m,b)=>(e.openBlock(),e.createElementBlock("div",{key:m,class:e.normalizeClass(n.value)},[e.renderSlot(o.$slots,"default",{instance:m,index:b})],2))),128))],2))}}),qr=["aria-label","aria-disabled"],Ge=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:r}){const a=e.ref(null);return e.onMounted(()=>r("set-ref",a)),(n,o)=>(e.openBlock(),e.createElementBlock("button",{type:"button",class:"dp__btn dp--arrow-btn-nav",onClick:o[0]||(o[0]=l=>n.$emit("activate")),onKeydown:[o[1]||(o[1]=e.withKeys(e.withModifiers(l=>n.$emit("activate"),["prevent"]),["enter"])),o[2]||(o[2]=e.withKeys(e.withModifiers(l=>n.$emit("activate"),["prevent"]),["space"]))],tabindex:"0","aria-label":n.ariaLabel,"aria-disabled":n.disabled||void 0,ref_key:"elRef",ref:a},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:n.disabled}])},[e.renderSlot(n.$slots,"default")],2)],40,qr))}}),Gr={class:"dp--year-mode-picker"},Qr=["aria-label"],An=e.defineComponent({__name:"YearModePicker",props:{...Se,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:r}){const a=t,{showRightIcon:n,showLeftIcon:o}=rt(),{defaultedConfig:l,defaultedMultiCalendars:m,defaultedAriaLabels:b,defaultedTransitions:M}=ce(a),{showTransition:A,transitionName:h}=je(M),$=(R=!1,U)=>{r("toggle-year-picker",{flow:R,show:U})},_=R=>{r("year-select",R)},W=(R=!1)=>{r("handle-year",R)};return(R,U)=>{var G,k,E;return e.openBlock(),e.createElementBlock("div",Gr,[e.unref(o)(e.unref(m),t.instance)?(e.openBlock(),e.createBlock(Ge,{key:0,ref:"mpPrevIconRef","aria-label":(G=e.unref(b))==null?void 0:G.prevYear,disabled:t.isDisabled(!1),onActivate:U[0]||(U[0]=w=>W(!1))},{default:e.withCtx(()=>[R.$slots["arrow-left"]?e.renderSlot(R.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),R.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(dt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("button",{class:"dp__btn dp--year-select",type:"button",ref:"mpYearButtonRef","aria-label":(k=e.unref(b))==null?void 0:k.openYearsOverlay,onClick:U[1]||(U[1]=()=>$(!1)),onKeydown:U[2]||(U[2]=e.withKeys(()=>$(!1),["enter"]))},[R.$slots.year?e.renderSlot(R.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),R.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,Qr),e.unref(n)(e.unref(m),t.instance)?(e.openBlock(),e.createBlock(Ge,{key:1,ref:"mpNextIconRef","aria-label":(E=e.unref(b))==null?void 0:E.nextYear,disabled:t.isDisabled(!0),onActivate:U[3]||(U[3]=w=>W(!0))},{default:e.withCtx(()=>[R.$slots["arrow-right"]?e.renderSlot(R.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),R.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ft),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(h)(t.showYearPicker),css:e.unref(A)},{default:e.withCtx(()=>[t.showYearPicker?(e.openBlock(),e.createBlock(qe,{key:0,items:t.items,"text-input":R.textInput,"esc-close":R.escClose,config:R.config,onToggle:$,onSelected:U[4]||(U[4]=w=>_(w)),"is-last":R.autoApply&&!e.unref(l).keepActionRow,type:"year"},e.createSlots({"button-icon":e.withCtx(()=>[R.$slots["calendar-icon"]?e.renderSlot(R.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),R.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ke),{key:1}))]),_:2},[R.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:w})=>[e.renderSlot(R.$slots,"year-overlay-value",{text:w.text,value:w.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])])}}}),lt=(t,r,a)=>{if(r.value&&Array.isArray(r.value))if(r.value.some(n=>ae(t,n))){const n=r.value.filter(o=>!ae(o,t));r.value=n.length?n:null}else(a&&+a>r.value.length||!a)&&r.value.push(t);else r.value=[t]},It=(t,r,a)=>{let n=t.value?t.value.slice():[];return n.length===2&&n[1]!==null&&(n=[]),n.length?me(r,n[0])?(n.unshift(r),a("range-start",n[0]),a("range-start",n[1])):(n[1]=r,a("range-end",r)):(n=[r],a("range-start",r)),t.value=n,n},st=(t,r,a,n)=>{t[0]&&t[1]&&a&&r("auto-apply"),t[0]&&!t[1]&&n&&a&&r("auto-apply")},vn=({multiCalendars:t,calendars:r,modelValue:a,props:n,year:o,month:l,emit:m})=>{const b=e.computed(()=>vt(n.yearRange,n.reverseYears)),M=e.ref([!1]),A=e.computed(()=>(w,p)=>{const P=u.set(De(new Date),{month:l.value(w),year:o.value(w)});return Dn(P,n.maxDate,n.minDate,n.preventMinMaxNavigation,p)}),h=()=>{for(let w=0;w<t.value.count;w++)if(w===0)r.value[w]=r.value[0];else{const p=u.set(z(),r.value[w-1]);r.value[w]={month:u.getMonth(p),year:u.getYear(u.addYears(p,1))}}},$=w=>{if(!w)return h();const p=u.set(z(),r.value[w]);return r.value[0].year=u.getYear(u.subYears(p,t.value.count-1)),h()},_=w=>n.focusStartDate?w[0]:w[1]?w[1]:w[0],W=()=>{if(a.value){const w=Array.isArray(a.value)?_(a.value):a.value;r.value[0]={month:u.getMonth(w),year:u.getYear(w)}}};e.onMounted(()=>{W(),t.value.count&&h()});const R=(w,p)=>{r.value[p].year=w,t.value.count&&!t.value.solo&&$(p)},U=e.computed(()=>w=>Oe(b.value,p=>{const P=o.value(w)===p.value,K=Ue(p.value,Ie(n.minDate),Ie(n.maxDate));return{active:P,disabled:K}})),G=(w,p)=>{R(w,p),E(p)},k=(w,p=!1)=>{if(!A.value(w,p)){const P=p?o.value(w)+1:o.value(w)-1;R(P,w)}},E=(w,p=!1,P)=>{p||m("reset-flow"),P!==void 0?M.value[w]=P:M.value[w]=!M.value[w],M.value||m("overlay-closed")};return{isDisabled:A,groupedYears:U,showYearPicker:M,selectYear:R,toggleYearPicker:E,handleYearSelect:G,handleYear:k}},Zr=(t,r)=>{const{defaultedMultiCalendars:a,defaultedAriaLabels:n,defaultedTransitions:o,defaultedConfig:l}=ce(t),{modelValue:m,year:b,month:M,calendars:A}=xe(t,r),h=e.computed(()=>dn(t.formatLocale,t.locale,t.monthNameFormat)),$=e.ref(null),{selectYear:_,groupedYears:W,showYearPicker:R,toggleYearPicker:U,handleYearSelect:G,handleYear:k,isDisabled:E}=vn({modelValue:m,multiCalendars:a,calendars:A,year:b,month:M,props:t,emit:r}),w=B=>B?{month:u.getMonth(B),year:u.getYear(B)}:{month:null,year:null},p=()=>m.value?Array.isArray(m.value)?m.value.map(B=>w(B)):w(m.value):w(),P=(B,c)=>{const s=A.value[B],S=p();return Array.isArray(S)?S.some(j=>j.year===(s==null?void 0:s.year)&&j.month===c):(s==null?void 0:s.year)===S.year&&c===S.month},K=(B,c,s)=>{var j,i;const S=p();return Array.isArray(S)?b.value(c)===((j=S[s])==null?void 0:j.year)&&B===((i=S[s])==null?void 0:i.month):!1},F=(B,c)=>{if(t.range){const s=p();if(Array.isArray(m.value)&&Array.isArray(s)){const S=K(B,c,0)||K(B,c,1),j=Be(De(z()),B,b.value(c));return Fe(m.value,$.value,j)&&!S}return!1}return!1},te=e.computed(()=>B=>Oe(h.value,c=>{const s=P(B,c.value),S=Ue(c.value,hn(b.value(B),t.minDate),yn(b.value(B),t.maxDate))||kr(t.disabledDates,b.value(B)).includes(c.value),j=F(c.value,B);return{active:s,disabled:S,isBetween:j}})),x=(B,c)=>Be(De(z()),B,b.value(c)),y=(B,c)=>{const s=m.value?m.value:De(new Date);m.value=Be(s,B,b.value(c)),r("auto-apply")},D=(B,c)=>{const s=It(m,x(B,c),r);st(s,r,t.autoApply,t.modelAuto)},L=(B,c)=>{lt(x(B,c),m,t.multiDatesLimit),r("auto-apply",!0)},Q=(B,c)=>(A.value[c].month=B,O(c,A.value[c].year,B),t.multiDates?L(B,c):t.range?D(B,c):y(B,c)),g=(B,c)=>{_(B,c),O(c,B,null)},O=(B,c,s)=>{let S=s;if(!S){const j=p();S=Array.isArray(j)?j[B].month:j.month}r("update-month-year",{instance:B,year:c,month:S})};return{groupedMonths:te,groupedYears:W,year:b,isDisabled:E,defaultedMultiCalendars:a,defaultedAriaLabels:n,defaultedTransitions:o,defaultedConfig:l,showYearPicker:R,setHoverDate:(B,c)=>{$.value=x(B,c)},selectMonth:Q,selectYear:g,toggleYearPicker:U,handleYearSelect:G,handleYear:k}},Xr=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Se},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{emit:r}){const a=t,n=e.useSlots(),o=ke(n,"yearMode"),{groupedMonths:l,groupedYears:m,year:b,isDisabled:M,defaultedMultiCalendars:A,defaultedConfig:h,showYearPicker:$,setHoverDate:_,selectMonth:W,selectYear:R,toggleYearPicker:U,handleYearSelect:G,handleYear:k}=Zr(a,r);return(E,w)=>(e.openBlock(),e.createBlock(ot,{"multi-calendars":e.unref(A).count,stretch:""},{default:e.withCtx(({instance:p})=>[E.$slots["month-year"]?e.renderSlot(E.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{year:e.unref(b),months:e.unref(l)(p),years:e.unref(m)(p),selectMonth:e.unref(W),selectYear:e.unref(R),instance:p}))):(e.openBlock(),e.createBlock(qe,{key:1,items:e.unref(l)(p),"arrow-navigation":E.arrowNavigation,"is-last":E.autoApply&&!e.unref(h).keepActionRow,"esc-close":E.escClose,height:e.unref(h).modeHeight,config:E.config,onSelected:P=>e.unref(W)(P,p),onHoverValue:P=>e.unref(_)(P,p),"use-relative":"",type:"month"},{header:e.withCtx(()=>[e.createVNode(An,e.mergeProps(E.$props,{items:e.unref(m)(p),instance:p,"show-year-picker":e.unref($)[p],year:e.unref(b)(p),"is-disabled":P=>e.unref(M)(p,P),onHandleYear:P=>e.unref(k)(p,P),onYearSelect:P=>e.unref(G)(P,p),onToggleYearPicker:P=>e.unref(U)(p,P==null?void 0:P.flow,P==null?void 0:P.show)}),e.createSlots({_:2},[e.renderList(e.unref(o),(P,K)=>({name:P,fn:e.withCtx(F=>[e.renderSlot(E.$slots,P,e.normalizeProps(e.guardReactiveProps(F)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),Jr=(t,r)=>{const{modelValue:a}=xe(t,r),n=e.ref(null),o=h=>Array.isArray(a.value)?a.value.some($=>u.getYear($)===h):a.value?u.getYear(a.value)===h:!1,l=h=>t.range&&Array.isArray(a.value)?Fe(a.value,n.value,b(h)):!1,m=e.computed(()=>Oe(vt(t.yearRange,t.reverseYears),h=>{const $=o(h.value),_=Ue(h.value,Ie(t.minDate),Ie(t.maxDate)),W=l(h.value);return{active:$,disabled:_,isBetween:W}})),b=h=>u.setYear(De(new Date),h);return{groupedYears:m,setHoverValue:h=>{n.value=u.setYear(De(new Date),h)},selectYear:h=>{if(t.multiDates)return lt(b(h),a,t.multiDatesLimit),r("auto-apply",!0);if(t.range){const $=It(a,b(h),r);return st($,r,t.autoApply,t.modelAuto)}a.value=b(h),r("auto-apply")}}},Fr=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{...Se},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{emit:r}){const a=t,{groupedYears:n,selectYear:o,setHoverValue:l}=Jr(a,r),{defaultedConfig:m}=ce(a);return(b,M)=>(e.openBlock(),e.createElementBlock("div",null,[b.$slots["month-year"]?e.renderSlot(b.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{years:e.unref(n),selectYear:e.unref(o)}))):(e.openBlock(),e.createBlock(qe,{key:1,items:e.unref(n),"is-last":b.autoApply&&!e.unref(m).keepActionRow,height:e.unref(m).modeHeight,config:b.config,type:"year","use-relative":"",onSelected:e.unref(o),onHoverValue:e.unref(l)},e.createSlots({_:2},[b.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:A})=>[e.renderSlot(b.$slots,"year-overlay-value",{text:A.text,value:A.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","onSelected","onHoverValue"]))]))}}),ea={key:0,class:"dp__time_input"},ta=["aria-label","onKeydown","onClick"],na=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),ra=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),aa=["aria-label","disabled","onKeydown","onClick"],oa=["aria-label","onKeydown","onClick"],la=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),sa=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),ia={key:0},ua=["aria-label","onKeydown"],ca=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Se},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:r,emit:a}){const n=t,{setTimePickerElements:o,setTimePickerBackRef:l}=Pe(),{defaultedAriaLabels:m,defaultedTransitions:b,defaultedFilters:M,defaultedConfig:A}=ce(n),{transitionName:h,showTransition:$}=je(b),_=e.reactive({hours:!1,minutes:!1,seconds:!1}),W=e.ref("AM"),R=e.ref(null),U=e.ref([]);e.onMounted(()=>{a("mounted")});const G=d=>u.set(new Date,{hours:d.hours,minutes:d.minutes,seconds:n.enableSeconds?d.seconds:0,milliseconds:0}),k=e.computed(()=>d=>Q(d,n[d])||w(d,n[d])),E=e.computed(()=>({hours:n.hours,minutes:n.minutes,seconds:n.seconds})),w=(d,V)=>n.range&&!n.disableTimeRangeValidation?!n.validateTime(d,V):!1,p=(d,V)=>{if(n.range&&!n.disableTimeRangeValidation){const H=V?+n[`${d}Increment`]:-+n[`${d}Increment`],v=n[d]+H;return!n.validateTime(d,v)}return!1},P=e.computed(()=>d=>!O(+n[d]+ +n[`${d}Increment`],d)||p(d,!0)),K=e.computed(()=>d=>!O(+n[d]-+n[`${d}Increment`],d)||p(d,!1)),F=(d,V)=>u.add(u.set(z(),d),V),te=(d,V)=>u.sub(u.set(z(),d),V),x=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!n.timePickerInline,dp__time_col_reg_block:!n.enableSeconds&&n.is24&&!n.timePickerInline,dp__time_col_reg_inline:!n.enableSeconds&&n.is24&&n.timePickerInline,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),y=e.computed(()=>{const d=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return n.enableSeconds?d.concat([{type:"",separator:!0},{type:"seconds"}]):d}),D=e.computed(()=>y.value.filter(d=>!d.separator)),L=e.computed(()=>d=>{if(d==="hours"){const V=S(+n.hours);return{text:V<10?`0${V}`:`${V}`,value:V}}return{text:n[d]<10?`0${n[d]}`:`${n[d]}`,value:n[d]}}),Q=(d,V)=>{var v;if(!n.disabledTimesConfig)return!1;const H=n.disabledTimesConfig(n.order,d==="hours"?V:void 0);return H[d]?!!((v=H[d])!=null&&v.includes(V)):!0},g=d=>{const V=n.is24?24:12,H=d==="hours"?V:60,v=+n[`${d}GridIncrement`],q=d==="hours"&&!n.is24?v:0,ne=[];for(let re=q;re<H;re+=v)ne.push({value:re,text:re<10?`0${re}`:`${re}`});return d==="hours"&&!n.is24&&ne.push({value:0,text:"12"}),Oe(ne,re=>({active:!1,disabled:M.value.times[d].includes(re.value)||!O(re.value,d)||Q(d,re.value)||w(d,re.value)}))},O=(d,V)=>{const H=n.minTime?G(Pt(n.minTime)):null,v=n.maxTime?G(Pt(n.maxTime)):null,q=G(Pt(E.value,V,d));return H&&v?(u.isBefore(q,v)||u.isEqual(q,v))&&(u.isAfter(q,H)||u.isEqual(q,H)):H?u.isAfter(q,H)||u.isEqual(q,H):v?u.isBefore(q,v)||u.isEqual(q,v):!0},C=d=>n[`no${d[0].toUpperCase()+d.slice(1)}Overlay`],B=d=>{C(d)||(_[d]=!_[d],_[d]||a("overlay-closed"))},c=d=>d==="hours"?u.getHours:d==="minutes"?u.getMinutes:u.getSeconds,s=(d,V=!0)=>{const H=V?F:te,v=V?+n[`${d}Increment`]:-+n[`${d}Increment`];O(+n[d]+v,d)&&a(`update:${d}`,c(d)(H({[d]:+n[d]},{[d]:+n[`${d}Increment`]})))},S=d=>n.is24?d:(d>=12?W.value="PM":W.value="AM",ir(d)),j=()=>{W.value==="PM"?(W.value="AM",a("update:hours",n.hours-12)):(W.value="PM",a("update:hours",n.hours+12)),a("am-pm-change",W.value)},i=d=>{_[d]=!0},Y=(d,V,H)=>{if(d&&n.arrowNavigation){Array.isArray(U.value[V])?U.value[V][H]=d:U.value[V]=[d];const v=U.value.reduce((q,ne)=>ne.map((re,N)=>[...q[N]||[],ne[N]]),[]);l(n.closeTimePickerBtn),R.value&&(v[1]=v[1].concat(R.value)),o(v,n.order)}},oe=(d,V)=>(B(d),d==="hours"&&!n.is24?a(`update:${d}`,W.value==="PM"?V+12:V):a(`update:${d}`,V));return r({openChildCmp:i}),(d,V)=>{var H;return d.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",ea,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(y.value,(v,q)=>{var ne,re,N;return e.openBlock(),e.createElementBlock("div",{key:q,class:e.normalizeClass(x.value)},[v.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!d.timePickerInline,dp__inc_dec_button_inline:d.timePickerInline,dp__tp_inline_btn_top:d.timePickerInline,dp__inc_dec_button_disabled:P.value(v.type)}),"aria-label":(ne=e.unref(m))==null?void 0:ne.incrementValue(v.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(I=>s(v.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(I=>s(v.type),["prevent"]),["space"])],onClick:I=>s(v.type),ref_for:!0,ref:I=>Y(I,q,0)},[n.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[na,ra],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[d.$slots["arrow-up"]?e.renderSlot(d.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),d.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(gt),{key:1}))],64))],42,ta),e.createElementVNode("button",{type:"button","aria-label":(re=e.unref(m))==null?void 0:re.openTpOverlay(v.type),class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!d.timePickerInline,dp__time_display_inline:d.timePickerInline,"dp--time-invalid":k.value(v.type),"dp--time-overlay-btn":!k.value(v.type)}),disabled:C(v.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(I=>B(v.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(I=>B(v.type),["prevent"]),["space"])],onClick:I=>B(v.type),ref_for:!0,ref:I=>Y(I,q,1)},[d.$slots[v.type]?e.renderSlot(d.$slots,v.type,{key:0,text:L.value(v.type).text,value:L.value(v.type).value}):e.createCommentVNode("",!0),d.$slots[v.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(L.value(v.type).text),1)],64))],42,aa),e.createElementVNode("button",{type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!d.timePickerInline,dp__inc_dec_button_inline:d.timePickerInline,dp__tp_inline_btn_bottom:d.timePickerInline,dp__inc_dec_button_disabled:K.value(v.type)}),"aria-label":(N=e.unref(m))==null?void 0:N.decrementValue(v.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(I=>s(v.type,!1),["prevent"]),["enter"]),e.withKeys(e.withModifiers(I=>s(v.type,!1),["prevent"]),["space"])],onClick:I=>s(v.type,!1),ref_for:!0,ref:I=>Y(I,q,2)},[n.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[la,sa],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[d.$slots["arrow-down"]?e.renderSlot(d.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),d.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(pt),{key:1}))],64))],42,oa)],64))],2)}),128)),d.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",ia,[d.$slots["am-pm-button"]?e.renderSlot(d.$slots,"am-pm-button",{key:0,toggle:j,value:W.value}):e.createCommentVNode("",!0),d.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:R,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(H=e.unref(m))==null?void 0:H.amPmButton,tabindex:"0",onClick:j,onKeydown:[e.withKeys(e.withModifiers(j,["prevent"]),["enter"]),e.withKeys(e.withModifiers(j,["prevent"]),["space"])]},e.toDisplayString(W.value),41,ua))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(D.value,(v,q)=>(e.openBlock(),e.createBlock(e.Transition,{key:q,name:e.unref(h)(_[v.type]),css:e.unref($)},{default:e.withCtx(()=>[_[v.type]?(e.openBlock(),e.createBlock(qe,{key:0,items:g(v.type),"is-last":d.autoApply&&!e.unref(A).keepActionRow,"esc-close":d.escClose,type:v.type,"text-input":d.textInput,config:d.config,"arrow-navigation":d.arrowNavigation,onSelected:ne=>oe(v.type,ne),onToggle:ne=>B(v.type),onResetFlow:V[0]||(V[0]=ne=>d.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[d.$slots["clock-icon"]?e.renderSlot(d.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),d.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(mt),{key:1}))]),_:2},[d.$slots[`${v.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:ne})=>[e.renderSlot(d.$slots,`${v.type}-overlay-value`,{text:ne.text,value:ne.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),da={class:"dp--tp-wrap"},fa=["aria-label"],ma=["tabindex"],ga=["aria-label"],Pn=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Se},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:r,emit:a}){const n=t,{buildMatrix:o,setTimePicker:l}=Pe(),m=e.useSlots(),{defaultedTransitions:b,defaultedAriaLabels:M,defaultedTextInput:A,defaultedConfig:h}=ce(n),{transitionName:$,showTransition:_}=je(b),{hideNavigationButtons:W}=rt(),R=e.ref(null),U=e.ref(null),G=e.ref([]),k=e.ref(null);e.onMounted(()=>{a("mount"),!n.timePicker&&n.arrowNavigation?o([de(R.value)],"time"):l(!0,n.timePicker)});const E=e.computed(()=>n.range&&n.modelAuto?fn(n.internalModelValue):!0),w=e.ref(!1),p=g=>({hours:Array.isArray(n.hours)?n.hours[g]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[g]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[g]:n.seconds}),P=e.computed(()=>{const g=[];if(n.range)for(let O=0;O<2;O++)g.push(p(O));else g.push(p(0));return g}),K=(g,O=!1,C="")=>{O||a("reset-flow"),w.value=g,a(g?"overlay-opened":"overlay-closed"),n.arrowNavigation&&l(g),e.nextTick(()=>{C!==""&&G.value[0]&&G.value[0].openChildCmp(C)})},F=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:n.autoApply&&!h.value.keepActionRow})),te=ke(m,"timePicker"),x=(g,O,C)=>n.range?O===0?[g,P.value[1][C]]:[P.value[0][C],g]:g,y=g=>{a("update:hours",g)},D=g=>{a("update:minutes",g)},L=g=>{a("update:seconds",g)},Q=()=>{if(k.value&&!A.value.enabled){const g=cr(k.value);g&&g.focus({preventScroll:!0})}};return r({toggleTimePicker:K}),(g,O)=>{var C;return e.openBlock(),e.createElementBlock("div",da,[!g.timePicker&&!g.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,type:"button",class:e.normalizeClass(F.value),"aria-label":(C=e.unref(M))==null?void 0:C.openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:R,onKeydown:[O[0]||(O[0]=e.withKeys(B=>K(!0),["enter"])),O[1]||(O[1]=e.withKeys(B=>K(!0),["space"]))],onClick:O[2]||(O[2]=B=>K(!0))},[g.$slots["clock-icon"]?e.renderSlot(g.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),g.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(mt),{key:1}))],42,fa)),[[e.vShow,!e.unref(W)(g.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref($)(w.value),css:e.unref(_)&&!g.timePickerInline},{default:e.withCtx(()=>{var B;return[w.value||g.timePicker||g.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass({dp__overlay:!g.timePickerInline,"dp--overlay-absolute":!n.timePicker&&!g.timePickerInline,"dp--overlay-relative":n.timePicker}),style:e.normalizeStyle(g.timePicker?{height:`${e.unref(h).modeHeight}px`}:void 0),ref_key:"overlayRef",ref:k,tabindex:g.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass(g.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[g.$slots["time-picker-overlay"]?e.renderSlot(g.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:y,setMinutes:D,setSeconds:L}):e.createCommentVNode("",!0),g.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(g.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(P.value,(c,s)=>e.withDirectives((e.openBlock(),e.createBlock(ca,e.mergeProps({key:s},{...g.$props,order:s,hours:c.hours,minutes:c.minutes,seconds:c.seconds,closeTimePickerBtn:U.value,disabledTimesConfig:t.disabledTimesConfig,disabled:s===0?g.fixedStart:g.fixedEnd},{"validate-time":(S,j)=>t.validateTime(S,x(j,s,S)),ref_for:!0,ref_key:"timeInputRefs",ref:G,"onUpdate:hours":S=>y(x(S,s,"hours")),"onUpdate:minutes":S=>D(x(S,s,"minutes")),"onUpdate:seconds":S=>L(x(S,s,"seconds")),onMounted:Q,onOverlayClosed:Q,onAmPmChange:O[3]||(O[3]=S=>g.$emit("am-pm-change",S))}),e.createSlots({_:2},[e.renderList(e.unref(te),(S,j)=>({name:S,fn:e.withCtx(i=>[e.renderSlot(g.$slots,S,e.normalizeProps(e.guardReactiveProps(i)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,s===0?!0:E.value]])),128))],2)),!g.timePicker&&!g.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,type:"button",ref_key:"closeTimePickerBtn",ref:U,class:e.normalizeClass(F.value),"aria-label":(B=e.unref(M))==null?void 0:B.closeTimePicker,tabindex:"0",onKeydown:[O[4]||(O[4]=e.withKeys(c=>K(!1),["enter"])),O[5]||(O[5]=e.withKeys(c=>K(!1),["space"]))],onClick:O[6]||(O[6]=c=>K(!1))},[g.$slots["calendar-icon"]?e.renderSlot(g.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),g.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ke),{key:1}))],42,ga)),[[e.vShow,!e.unref(W)(g.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,ma)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),Nn=(t,r,a,n)=>{const o=(k,E)=>Array.isArray(r[k])?r[k][E]:r[k],l=k=>t.enableSeconds?Array.isArray(r.seconds)?r.seconds[k]:r.seconds:0,m=(k,E)=>k?E!==void 0?Ae(k,o("hours",E),o("minutes",E),l(E)):Ae(k,r.hours,r.minutes,l()):u.setSeconds(z(),l(E)),b=(k,E)=>{r[k]=E},M=(k,E)=>{const w=Object.fromEntries(Object.keys(r).map(p=>p===k?[p,E]:[p,r[p]].slice()));if(t.range&&!t.disableTimeRangeValidation){const p=K=>a.value?Ae(a.value[K],w.hours[K],w.minutes[K],w.seconds[K]):null,P=K=>u.setMilliseconds(a.value[K],0);return!(ae(p(0),p(1))&&(u.isAfter(p(0),P(1))||u.isBefore(p(1),P(0))))}return!0},A=(k,E)=>{M(k,E)&&(b(k,E),n&&n())},h=k=>{A("hours",k)},$=k=>{A("minutes",k)},_=k=>{A("seconds",k)},W=(k,E,w,p)=>{E&&h(k),!E&&!w&&$(k),w&&_(k),a.value&&p(a.value)},R=k=>{if(k){const E=Array.isArray(k),w=E?[+k[0].hours,+k[1].hours]:+k.hours,p=E?[+k[0].minutes,+k[1].minutes]:+k.minutes,P=E?[+k[0].seconds,+k[1].seconds]:+k.seconds;b("hours",w),b("minutes",p),t.enableSeconds&&b("seconds",P)}},U=(k,E)=>{const w={hours:Array.isArray(r.hours)?r.hours[k]:r.hours,disabledArr:[]};return(E||E===0)&&(w.hours=E),Array.isArray(t.disabledTimes)&&(w.disabledArr=t.range&&Array.isArray(t.disabledTimes[k])?t.disabledTimes[k]:t.disabledTimes),w},G=e.computed(()=>(k,E)=>{var w;if(Array.isArray(t.disabledTimes)){const{disabledArr:p,hours:P}=U(k,E),K=p.filter(F=>+F.hours===P);return((w=K[0])==null?void 0:w.minutes)==="*"?{hours:[P],minutes:void 0,seconds:void 0}:{hours:[],minutes:(K==null?void 0:K.map(F=>+F.minutes))??[],seconds:(K==null?void 0:K.map(F=>F.seconds?+F.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:b,updateHours:h,updateMinutes:$,updateSeconds:_,getSetDateTime:m,updateTimeValues:W,getSecondsValue:l,assignStartTime:R,validateTime:M,disabledTimesConfig:G}},pa=(t,r)=>{const{modelValue:a,time:n}=xe(t,r),{defaultedStartTime:o}=ce(t),{updateTimeValues:l,getSetDateTime:m,setTime:b,assignStartTime:M,disabledTimesConfig:A,validateTime:h}=Nn(t,n,a),$=w=>{const{hours:p,minutes:P,seconds:K}=w;return{hours:+p,minutes:+P,seconds:K?+K:0}},_=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const p=$(t.startTime[0]),P=$(t.startTime[1]);return[u.set(z(),p),u.set(z(),P)]}const w=$(t.startTime);return u.set(z(),w)}return t.range?[null,null]:null},W=()=>{if(t.range){const[w,p]=_();a.value=[m(w,0),m(p,1)]}else a.value=m(_())},R=w=>Array.isArray(w)?[Ee(z(w[0])),Ee(z(w[1]))]:[Ee(w??z())],U=(w,p,P)=>{b("hours",w),b("minutes",p),b("seconds",t.enableSeconds?P:0)},G=()=>{const[w,p]=R(a.value);return t.range?U([w.hours,p.hours],[w.minutes,p.minutes],[w.seconds,p.minutes]):U(w.hours,w.minutes,w.seconds)};e.onMounted(()=>{if(!t.shadow)return M(o.value),a.value?G():W()});const k=()=>{Array.isArray(a.value)?a.value=a.value.map((w,p)=>w&&m(w,p)):a.value=m(a.value),r("time-update")};return{time:n,disabledTimesConfig:A,updateTime:(w,p=!0,P=!1)=>{l(w,p,P,k)},validateTime:h}},ha=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Se},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{emit:r}){const a=t,n=e.useSlots(),o=ke(n,"timePicker"),{time:l,disabledTimesConfig:m,updateTime:b,validateTime:M}=pa(a,r);return(A,h)=>(e.openBlock(),e.createBlock(ot,{"multi-calendars":0,stretch:""},{default:e.withCtx(()=>[e.createVNode(Pn,e.mergeProps(A.$props,{hours:e.unref(l).hours,minutes:e.unref(l).minutes,seconds:e.unref(l).seconds,"internal-model-value":A.internalModelValue,"disabled-times-config":e.unref(m),"validate-time":e.unref(M),"onUpdate:hours":h[0]||(h[0]=$=>e.unref(b)($)),"onUpdate:minutes":h[1]||(h[1]=$=>e.unref(b)($,!1)),"onUpdate:seconds":h[2]||(h[2]=$=>e.unref(b)($,!1,!0)),onAmPmChange:h[3]||(h[3]=$=>A.$emit("am-pm-change",$))}),e.createSlots({_:2},[e.renderList(e.unref(o),($,_)=>({name:$,fn:e.withCtx(W=>[e.renderSlot(A.$slots,$,e.normalizeProps(e.guardReactiveProps(W)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),ya={class:"dp__month_year_row"},ka=["aria-label","onClick","onKeydown"],wa=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Se},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{defaultedTransitions:o,defaultedAriaLabels:l,defaultedMultiCalendars:m,defaultedFilters:b,defaultedConfig:M}=ce(n),{transitionName:A,showTransition:h}=je(o),{buildMatrix:$}=Pe(),{handleMonthYearChange:_,isDisabled:W,updateMonthYear:R}=vr(n,a),{showLeftIcon:U,showRightIcon:G}=rt(),k=e.ref(!1),E=e.ref(!1),w=e.ref([null,null,null,null]);e.onMounted(()=>{a("mount")});const p=c=>({get:()=>n[c],set:s=>{const S=c===Ce.month?Ce.year:Ce.month;a("update-month-year",{[c]:s,[S]:n[S]}),c===Ce.month?L(!0):Q(!0)}}),P=e.computed(p(Ce.month)),K=e.computed(p(Ce.year)),F=e.computed(()=>c=>({month:n.month,year:n.year,items:c===Ce.month?n.months:n.years,instance:n.instance,updateMonthYear:R,toggle:c===Ce.month?L:Q})),te=e.computed(()=>{const c=n.months.find(s=>s.value===n.month);return c||{text:"",value:0}}),x=e.computed(()=>Oe(n.months,c=>{const s=n.month===c.value,S=Ue(c.value,hn(n.year,n.minDate),yn(n.year,n.maxDate))||b.value.months.includes(c.value);return{active:s,disabled:S}})),y=e.computed(()=>Oe(n.years,c=>{const s=n.year===c.value,S=Ue(c.value,Ie(n.minDate),Ie(n.maxDate))||b.value.years.includes(c.value);return{active:s,disabled:S}})),D=(c,s)=>{s!==void 0?c.value=s:c.value=!c.value,c.value||a("overlay-closed")},L=(c=!1,s)=>{g(c),D(k,s)},Q=(c=!1,s)=>{g(c),D(E,s)},g=c=>{c||a("reset-flow")},O=(c,s)=>{n.arrowNavigation&&(w.value[s]=de(c),$(w.value,"monthYear"))},C=e.computed(()=>{var c,s;return[{type:Ce.month,index:1,toggle:L,modelValue:P.value,updateModelValue:S=>P.value=S,text:te.value.text,showSelectionGrid:k.value,items:x.value,ariaLabel:(c=l.value)==null?void 0:c.openMonthsOverlay},{type:Ce.year,index:2,toggle:Q,modelValue:K.value,updateModelValue:S=>K.value=S,text:n.year,showSelectionGrid:E.value,items:y.value,ariaLabel:(s=l.value)==null?void 0:s.openYearsOverlay}]}),B=e.computed(()=>n.disableYearSelect?[C.value[0]]:C.value);return r({toggleMonthPicker:L,toggleYearPicker:Q,handleMonthYearChange:_}),(c,s)=>{var S,j,i;return e.openBlock(),e.createElementBlock("div",ya,[c.$slots["month-year"]?e.renderSlot(c.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(R),handleMonthYearChange:e.unref(_),instance:t.instance}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(U)(e.unref(m),t.instance)&&!c.vertical?(e.openBlock(),e.createBlock(Ge,{key:0,"aria-label":(S=e.unref(l))==null?void 0:S.prevMonth,disabled:e.unref(W)(!1),onActivate:s[0]||(s[0]=Y=>e.unref(_)(!1,!0)),onSetRef:s[1]||(s[1]=Y=>O(Y,0))},{default:e.withCtx(()=>[c.$slots["arrow-left"]?e.renderSlot(c.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),c.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(dt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:c.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(B.value,(Y,oe)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:Y.type},[e.createElementVNode("button",{type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":Y.ariaLabel,ref_for:!0,ref:d=>O(d,oe+1),onClick:Y.toggle,onKeydown:[e.withKeys(e.withModifiers(Y.toggle,["prevent"]),["enter"]),e.withKeys(e.withModifiers(Y.toggle,["prevent"]),["space"])]},[c.$slots[Y.type]?e.renderSlot(c.$slots,Y.type,{key:0,text:Y.text,value:n[Y.type]}):e.createCommentVNode("",!0),c.$slots[Y.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(Y.text),1)],64))],40,ka),e.createVNode(e.Transition,{name:e.unref(A)(Y.showSelectionGrid),css:e.unref(h)},{default:e.withCtx(()=>[Y.showSelectionGrid?(e.openBlock(),e.createBlock(qe,{key:0,items:Y.items,"arrow-navigation":c.arrowNavigation,"hide-navigation":c.hideNavigation,"is-last":c.autoApply&&!e.unref(M).keepActionRow,"skip-button-ref":!1,config:c.config,type:Y.type,"header-refs":[],"esc-close":c.escClose,"text-input":c.textInput,onSelected:Y.updateModelValue,onToggle:Y.toggle},e.createSlots({"button-icon":e.withCtx(()=>[c.$slots["calendar-icon"]?e.renderSlot(c.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),c.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ke),{key:1}))]),_:2},[c.$slots[`${Y.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:d})=>[e.renderSlot(c.$slots,`${Y.type}-overlay-value`,{text:d.text,value:d.value})]),key:"0"}:void 0,c.$slots[`${Y.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(c.$slots,`${Y.type}-overlay`,e.normalizeProps(e.guardReactiveProps(F.value(Y.type))))]),key:"1"}:void 0,c.$slots[`${Y.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(c.$slots,`${Y.type}-overlay-header`,{toggle:Y.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","text-input","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref(U)(e.unref(m),t.instance)&&c.vertical?(e.openBlock(),e.createBlock(Ge,{key:1,"aria-label":(j=e.unref(l))==null?void 0:j.prevMonth,disabled:e.unref(W)(!1),onActivate:s[2]||(s[2]=Y=>e.unref(_)(!1,!0))},{default:e.withCtx(()=>[c.$slots["arrow-up"]?e.renderSlot(c.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),c.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(gt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(G)(e.unref(m),t.instance)?(e.openBlock(),e.createBlock(Ge,{key:2,ref:"rightIcon",disabled:e.unref(W)(!0),"aria-label":(i=e.unref(l))==null?void 0:i.nextMonth,onActivate:s[3]||(s[3]=Y=>e.unref(_)(!0,!0)),onSetRef:s[4]||(s[4]=Y=>O(Y,c.disableYearSelect?2:3))},{default:e.withCtx(()=>[c.$slots[c.vertical?"arrow-down":"arrow-right"]?e.renderSlot(c.$slots,c.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),c.$slots[c.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(c.vertical?e.unref(pt):e.unref(ft)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64))])}}}),ba=["aria-label"],Ma={class:"dp__calendar_header",role:"row"},Da={key:0,class:"dp__calendar_header_item",role:"gridcell"},Ca=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),Sa=["aria-label"],Ta={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Ba={class:"dp__cell_inner"},$a=["aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],Aa=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Se},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:r,emit:a}){const n=t,{buildMultiLevelMatrix:o}=Pe(),{defaultedTransitions:l,defaultedConfig:m,defaultedAriaLabels:b,defaultedMultiCalendars:M}=ce(n),A=e.ref(null),h=e.ref({bottom:"",left:"",transform:""}),$=e.ref([]),_=e.ref(null),W=e.ref(!0),R=e.ref(""),U=e.ref({startX:0,endX:0,startY:0,endY:0}),G=e.ref([]),k=e.ref({left:"50%"}),E=e.computed(()=>n.calendar?n.calendar(n.mappedDates):n.mappedDates),w=e.computed(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):sr(n.formatLocale,n.locale,+n.weekStart));e.onMounted(()=>{a("mount",{cmp:"calendar",refs:$}),m.value.noSwipe||_.value&&(_.value.addEventListener("touchstart",Q,{passive:!1}),_.value.addEventListener("touchend",g,{passive:!1}),_.value.addEventListener("touchmove",O,{passive:!1})),n.monthChangeOnScroll&&_.value&&_.value.addEventListener("wheel",c,{passive:!1})});const p=i=>i?n.vertical?"vNext":"next":n.vertical?"vPrevious":"previous",P=(i,Y)=>{if(n.transitions){const oe=we(Be(z(),n.month,n.year));R.value=pe(we(Be(z(),i,Y)),oe)?l.value[p(!0)]:l.value[p(!1)],W.value=!1,e.nextTick(()=>{W.value=!0})}},K=e.computed(()=>({[n.calendarClassName]:!!n.calendarClassName})),F=e.computed(()=>i=>{const Y=ur(i);return{dp__marker_dot:Y.type==="dot",dp__marker_line:Y.type==="line"}}),te=e.computed(()=>i=>ae(i,A.value)),x=e.computed(()=>({dp__calendar:!0,dp__calendar_next:M.value.count>0&&n.instance!==0})),y=e.computed(()=>i=>n.hideOffsetDates?i.current:!0),D=async(i,Y,oe)=>{var d,V;if(a("set-hover-date",i),(V=(d=i.marker)==null?void 0:d.tooltip)!=null&&V.length){const H=de($.value[Y][oe]);if(H){const{width:v,height:q}=H.getBoundingClientRect();A.value=i.value;let ne={left:`${v/2}px`},re=-50;if(await e.nextTick(),G.value[0]){const{left:N,width:I}=G.value[0].getBoundingClientRect();N<0&&(ne={left:"0"},re=0,k.value.left=`${v/2}px`),window.innerWidth<N+I&&(ne={right:"0"},re=0,k.value.left=`${I-v/2}px`)}h.value={bottom:`${q}px`,...ne,transform:`translateX(${re}%)`},a("tooltip-open",i.marker)}}},L=i=>{A.value&&(A.value=null,h.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",i.marker))},Q=i=>{U.value.startX=i.changedTouches[0].screenX,U.value.startY=i.changedTouches[0].screenY},g=i=>{U.value.endX=i.changedTouches[0].screenX,U.value.endY=i.changedTouches[0].screenY,C()},O=i=>{n.vertical&&!n.inline&&i.preventDefault()},C=()=>{const i=n.vertical?"Y":"X";Math.abs(U.value[`start${i}`]-U.value[`end${i}`])>10&&a("handle-swipe",U.value[`start${i}`]>U.value[`end${i}`]?"right":"left")},B=(i,Y,oe)=>{i&&(Array.isArray($.value[Y])?$.value[Y][oe]=i:$.value[Y]=[i]),n.arrowNavigation&&o($.value,"calendar")},c=i=>{n.monthChangeOnScroll&&(i.preventDefault(),a("handle-scroll",i))},s=i=>{const Y=i[0];return n.weekNumbers==="local"?u.getWeek(Y.value,{weekStartsOn:+n.weekStart}):n.weekNumbers==="iso"?u.getISOWeek(Y.value):typeof n.weekNumbers=="function"?n.weekNumbers(Y.value):""},S=(i,Y)=>{$e(i,m.value),a("select-date",Y)},j=i=>{$e(i,m.value)};return r({triggerTransition:P}),(i,Y)=>{var oe;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(x.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:_,role:"grid",class:e.normalizeClass(K.value),"aria-label":(oe=e.unref(b))==null?void 0:oe.calendarWrap},[(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",Ma,[i.weekNumbers?(e.openBlock(),e.createElementBlock("div",Da,e.toDisplayString(i.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(w.value,(d,V)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:V},[i.$slots["calendar-header"]?e.renderSlot(i.$slots,"calendar-header",{key:0,day:d,index:V}):e.createCommentVNode("",!0),i.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(d),1)],64))]))),128))]),Ca,e.createVNode(e.Transition,{name:R.value,css:!!i.transitions},{default:e.withCtx(()=>{var d;return[W.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((d=e.unref(b))==null?void 0:d.calendarDays)||void 0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(E.value,(V,H)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:H},[i.weekNumbers?(e.openBlock(),e.createElementBlock("div",Ta,[e.createElementVNode("div",Ba,e.toDisplayString(s(V.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(V.days,(v,q)=>{var ne,re,N;return e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:I=>B(I,H,q),key:q+H,"aria-selected":v.classData.dp__active_date||v.classData.dp__range_start||v.classData.dp__range_start,"aria-disabled":v.classData.dp__cell_disabled||void 0,"aria-label":(re=(ne=e.unref(b))==null?void 0:ne.day)==null?void 0:re.call(ne,v),tabindex:"0",onClick:e.withModifiers(I=>S(I,v),["prevent"]),onKeydown:[e.withKeys(I=>i.$emit("select-date",v),["enter"]),e.withKeys(I=>i.$emit("handle-space",v),["space"])],onMouseenter:I=>D(v,H,q),onMouseleave:I=>L(v)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",v.classData])},[i.$slots.day&&y.value(v)?e.renderSlot(i.$slots,"day",{key:0,day:+v.text,date:v.value}):e.createCommentVNode("",!0),i.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(v.text),1)],64)),v.marker&&y.value(v)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[i.$slots.marker?e.renderSlot(i.$slots,"marker",{key:0,marker:v.marker,day:+v.text,date:v.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(F.value(v.marker)),style:e.normalizeStyle(v.marker.color?{backgroundColor:v.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),te.value(v.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",ref_for:!0,ref_key:"activeTooltip",ref:G,style:e.normalizeStyle(h.value)},[(N=v.marker)!=null&&N.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:j},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(v.marker.tooltip,(I,se)=>(e.openBlock(),e.createElementBlock("div",{key:se,class:"dp__tooltip_text"},[i.$slots["marker-tooltip"]?e.renderSlot(i.$slots,"marker-tooltip",{key:0,tooltip:I,day:v.value}):e.createCommentVNode("",!0),i.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(I.color?{backgroundColor:I.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(I.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(k.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,$a)}),128))]))),128))],8,Sa)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],64))],10,ba)],2)}}}),_n=t=>Array.isArray(t),va=(t,r,a,n)=>{const o=e.ref([]),{modelValue:l,calendars:m,time:b}=xe(t,r),{defaultedMultiCalendars:M,defaultedStartTime:A}=ce(t),{validateMonthYearInRange:h,isDisabled:$,isDateRangeAllowed:_,checkMinMaxRange:W}=He(t),{updateTimeValues:R,getSetDateTime:U,setTime:G,assignStartTime:k,validateTime:E,disabledTimesConfig:w}=Nn(t,b,l,n),p=e.computed(()=>f=>m.value[f]?m.value[f].month:0),P=e.computed(()=>f=>m.value[f]?m.value[f].year:0),K=(f,T,J)=>{var ee,ie;m.value[f]||(m.value[f]={month:0,year:0}),m.value[f].month=gn(T)?(ee=m.value[f])==null?void 0:ee.month:T,m.value[f].year=gn(J)?(ie=m.value[f])==null?void 0:ie.year:J},F=()=>{t.autoApply&&r("select-date")};e.watch(l,(f,T)=>{JSON.stringify(f)!==JSON.stringify(T)&&y()}),e.onMounted(()=>{t.shadow||(l.value||(S(),A.value&&k(A.value)),y(!0),t.focusStartDate&&t.startDate&&S())});const te=e.computed(()=>{var f;return(f=t.flow)!=null&&f.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),x=()=>{t.autoApply&&te.value&&r("auto-apply",t.partialFlow)},y=(f=!1)=>{if(l.value)return Array.isArray(l.value)?(o.value=l.value,C(f)):L(l.value,f);if(M.value.count&&f&&!t.startDate)return D(z(),f)},D=(f,T=!1)=>{if((!M.value.count||!M.value.static||T)&&K(0,u.getMonth(f),u.getYear(f)),M.value.count)for(let J=1;J<M.value.count;J++){const ee=u.set(z(),{month:p.value(J-1),year:P.value(J-1)}),ie=u.add(ee,{months:1});m.value[J]={month:u.getMonth(ie),year:u.getYear(ie)}}},L=(f,T)=>{D(f),G("hours",u.getHours(f)),G("minutes",u.getMinutes(f)),G("seconds",u.getSeconds(f)),M.value.count&&T&&s()},Q=f=>{if(M.value.count){if(M.value.solo)return 0;const T=u.getMonth(f[0]),J=u.getMonth(f[1]);return Math.abs(J-T)<M.value.count?0:1}return 1},g=(f,T)=>{f[1]&&t.showLastInRange?D(f[Q(f)],T):D(f[0],T);const J=(ee,ie)=>[ee(f[0]),f[1]?ee(f[1]):b[ie][1]];G("hours",J(u.getHours,"hours")),G("minutes",J(u.getMinutes,"minutes")),G("seconds",J(u.getSeconds,"seconds"))},O=(f,T)=>{if((t.range||t.weekPicker)&&!t.multiDates)return g(f,T);if(t.multiDates&&T){const J=f[f.length-1];return L(J,T)}},C=f=>{const T=l.value;O(T,f),M.value.count&&M.value.solo&&s()},B=(f,T)=>{const J=u.set(z(),{month:p.value(T),year:P.value(T)}),ee=f<0?u.addMonths(J,1):u.subMonths(J,1);h(u.getMonth(ee),u.getYear(ee),f<0,t.preventMinMaxNavigation)&&(K(T,u.getMonth(ee),u.getYear(ee)),M.value.count&&!M.value.solo&&c(T),a())},c=f=>{for(let T=f-1;T>=0;T--){const J=u.subMonths(u.set(z(),{month:p.value(T+1),year:P.value(T+1)}),1);K(T,u.getMonth(J),u.getYear(J))}for(let T=f+1;T<=M.value.count-1;T++){const J=u.addMonths(u.set(z(),{month:p.value(T-1),year:P.value(T-1)}),1);K(T,u.getMonth(J),u.getYear(J))}},s=()=>{if(Array.isArray(l.value)&&l.value.length===2){const f=z(z(l.value[1]?l.value[1]:u.addMonths(l.value[0],1))),[T,J]=[u.getMonth(l.value[0]),u.getYear(l.value[0])],[ee,ie]=[u.getMonth(l.value[1]),u.getYear(l.value[1])];(T!==ee||T===ee&&J!==ie)&&M.value.solo&&K(1,u.getMonth(f),u.getYear(f))}else l.value&&!Array.isArray(l.value)&&(K(0,u.getMonth(l.value),u.getYear(l.value)),D(z()))},S=()=>{t.startDate&&(K(0,u.getMonth(z(t.startDate)),u.getYear(z(t.startDate))),M.value.count&&c(0))},j=(f,T)=>{t.monthChangeOnScroll&&B(t.monthChangeOnScroll!=="inverse"?-f.deltaY:f.deltaY,T)},i=(f,T,J=!1)=>{t.monthChangeOnArrows&&t.vertical===J&&Y(f,T)},Y=(f,T)=>{B(f==="right"?-1:1,T)},oe=f=>t.markers.find(T=>ae(wn(f.value),wn(T.date))),d=(f,T)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[f==0,!0];case"fair":return[f==0||T>f,!0];case"append":return[!1,!1];default:return[!1,!1]}},V=(f,T,J,ee)=>{if(t.sixWeeks&&f.length<6){const ie=6-f.length,_e=(T.getDay()+7-ee)%7,ut=6-(J.getDay()+7-ee)%7,[Xe,Qt]=d(_e,ut);for(let Ve=1;Ve<=ie;Ve++)if(Qt?!!(Ve%2)==Xe:Xe){const ct=f[0].days[0],Zt=H(u.addDays(ct.value,-7),u.getMonth(T));f.unshift({days:Zt})}else{const ct=f[f.length-1],Zt=ct.days[ct.days.length-1],qa=H(u.addDays(Zt.value,1),u.getMonth(T));f.push({days:qa})}}return f},H=(f,T)=>{const J=z(f),ee=[];for(let ie=0;ie<7;ie++){const _e=u.addDays(J,ie),Ze=u.getMonth(_e)!==T;ee.push({text:t.hideOffsetDates&&Ze?"":_e.getDate(),value:_e,current:!Ze,classData:{}})}return ee},v=(f,T)=>{const J=[],ee=z(be(new Date(T,f),t.timezone)),ie=z(be(new Date(T,f+1,0),t.timezone)),_e=t.weekStart,Ze=u.startOfWeek(ee,{weekStartsOn:_e}),ut=Xe=>{const Qt=H(Xe,f);if(J.push({days:Qt}),!J[J.length-1].days.some(Ve=>ae(we(Ve.value),we(ie)))){const Ve=u.addDays(Xe,7);ut(Ve)}};return ut(Ze),V(J,ee,ie,_e)},q=f=>(l.value=et(z(f.value),t.timezone,t.weekStart),x()),ne=f=>{const T=Ae(z(f.value),b.hours,b.minutes,it());t.multiDates?lt(T,l,t.multiDatesLimit):l.value=T,n(),e.nextTick().then(()=>{x()})},re=f=>t.noDisabledRange?bn(o.value[0],f).some(J=>$(J)):!1,N=()=>{o.value=l.value?l.value.slice():[],o.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(o.value=[])},I=(f,T)=>{const J=[z(f.value),u.addDays(z(f.value),+t.autoRange)];_(J)&&(T&&se(f.value),o.value=J)},se=f=>{const T=u.getMonth(z(f)),J=u.getYear(z(f));if(K(0,T,J),M.value.count>0)for(let ee=1;ee<M.value.count;ee++){const ie=gr(u.set(z(f),{year:p.value(ee-1),month:P.value(ee-1)}));K(ee,ie.month,ie.year)}},Z=f=>Array.isArray(l.value)&&l.value.length===2?t.fixedStart&&(pe(f,l.value[0])||ae(f,l.value[0]))?[l.value[0],f]:t.fixedEnd&&(me(f,l.value[1])||ae(f,l.value[1]))?[f,l.value[1]]:(r("invalid-fixed-range",f),l.value):[],Me=f=>{re(f.value)||!W(f.value,l.value,t.fixedStart?0:1)||(o.value=Z(z(f.value)))},fe=(f,T)=>{if(N(),t.autoRange)return I(f,T);if(t.fixedStart||t.fixedEnd)return Me(f);o.value[0]?W(z(f.value),l.value)&&!re(f.value)?me(z(f.value),z(o.value[0]))?(o.value.unshift(z(f.value)),r("range-end",o.value[0])):(o.value[1]=z(f.value),r("range-end",o.value[1])):t.autoApply&&r("auto-apply-invalid",f.value):(o.value[0]=z(f.value),r("range-start",o.value[0]))},it=(f=!0)=>t.enableSeconds?Array.isArray(b.seconds)?f?b.seconds[0]:b.seconds[1]:b.seconds:0,Qe=f=>{o.value[f]=Ae(o.value[f],b.hours[f],b.minutes[f],it(f!==1))},Ht=()=>{var f,T;o.value[0]&&o.value[1]&&+((f=o.value)==null?void 0:f[0])>+((T=o.value)==null?void 0:T[1])&&(o.value.reverse(),r("range-start",o.value[0]),r("range-end",o.value[1]))},Kt=()=>{o.value.length&&(o.value[0]&&!o.value[1]?Qe(0):(Qe(0),Qe(1),n()),Ht(),l.value=o.value.slice(),st(o.value,r,t.autoApply,t.modelAuto))},Ut=(f,T=!1)=>{if(!($(f.value)||!f.current&&t.hideOffsetDates)){if(t.weekPicker)return q(f);if(!t.range)return ne(f);_n(b.hours)&&_n(b.minutes)&&!t.multiDates&&(fe(f,T),Kt())}},Wt=(f,T)=>{var ee;K(f,T.month,T.year),M.value.count&&!M.value.solo&&c(f),r("update-month-year",{instance:f,month:T.month,year:T.year}),a(M.value.solo?f:void 0);const J=(ee=t.flow)!=null&&ee.length?t.flow[t.flowStep]:void 0;!T.fromNav&&(J===Te.month||J===Te.year)&&n()},jt=(f,T)=>{Array.isArray(f)&&f.length<=2&&t.range?l.value=f.map(J=>be(z(J),T?void 0:t.timezone)):Array.isArray(f)||(l.value=be(z(f),T?void 0:t.timezone)),F(),t.multiCalendars&&e.nextTick().then(()=>y(!0))},xt=()=>{t.range?l.value&&Array.isArray(l.value)&&l.value[0]?l.value=me(z(),l.value[0])?[z(),l.value[0]]:[l.value[0],z()]:l.value=[z()]:l.value=z(),F()},qt=()=>{if(Array.isArray(l.value))if(t.multiDates){const f=Gt();l.value[l.value.length-1]=U(f)}else l.value=l.value.map((f,T)=>f&&U(f,T));else l.value=U(l.value);r("time-update")},Gt=()=>Array.isArray(l.value)&&l.value.length?l.value[l.value.length-1]:null;return{calendars:m,modelValue:l,month:p,year:P,time:b,disabledTimesConfig:w,validateTime:E,getCalendarDays:v,getMarker:oe,handleScroll:j,handleSwipe:Y,handleArrow:i,selectDate:Ut,updateMonthYear:Wt,presetDate:jt,selectCurrentDate:xt,updateTime:(f,T=!0,J=!1)=>{R(f,T,J,qt)}}},Pa={key:0},Na=e.defineComponent({__name:"DatePicker",props:{...Se},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid"],setup(t,{expose:r,emit:a}){const n=t,{calendars:o,month:l,year:m,modelValue:b,time:M,disabledTimesConfig:A,validateTime:h,getCalendarDays:$,getMarker:_,handleArrow:W,handleScroll:R,handleSwipe:U,selectDate:G,updateMonthYear:k,presetDate:E,selectCurrentDate:w,updateTime:p}=va(n,a,c,s),P=e.useSlots(),{setHoverDate:K,getDayClassData:F,clearHoverDate:te}=Er(b,n),{defaultedMultiCalendars:x}=ce(n),y=e.ref([]),D=e.ref([]),L=e.ref(null),Q=ke(P,"calendar"),g=ke(P,"monthYear"),O=ke(P,"timePicker"),C=d=>{n.shadow||a("mount",d)};e.watch(o,()=>{n.shadow||setTimeout(()=>{a("recalculate-position")},0)},{deep:!0});const B=e.computed(()=>d=>$(l.value(d),m.value(d)).map(V=>({...V,days:V.days.map(H=>(H.marker=_(H),H.classData=F(H),H))})));function c(d){var V;d||d===0?(V=D.value[d])==null||V.triggerTransition(l.value(d),m.value(d)):D.value.forEach((H,v)=>H.triggerTransition(l.value(v),m.value(v)))}function s(){a("update-flow-step")}const S=(d,V=!1)=>{G(d,V),n.spaceConfirm&&a("select-date")};return r({clearHoverDate:te,presetDate:E,selectCurrentDate:w,toggleMonthPicker:(d,V,H=0)=>{var v;(v=y.value[H])==null||v.toggleMonthPicker(d,V)},toggleYearPicker:(d,V,H=0)=>{var v;(v=y.value[H])==null||v.toggleYearPicker(d,V)},toggleTimePicker:(d,V,H)=>{var v;(v=L.value)==null||v.toggleTimePicker(d,V,H)},handleArrow:W,updateMonthYear:k,getSidebarProps:()=>({modelValue:b,month:l,year:m,time:M,updateTime:p,updateMonthYear:k,selectDate:G,presetDate:E})}),(d,V)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(ot,{"multi-calendars":e.unref(x).count},{default:e.withCtx(({instance:H,index:v})=>[d.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(wa,e.mergeProps({key:0,ref:q=>{q&&(y.value[v]=q)},months:e.unref(dn)(d.formatLocale,d.locale,d.monthNameFormat),years:e.unref(vt)(d.yearRange,d.reverseYears),month:e.unref(l)(H),year:e.unref(m)(H),instance:H},d.$props,{onMount:V[0]||(V[0]=q=>C(e.unref(Ye).header)),onResetFlow:V[1]||(V[1]=q=>d.$emit("reset-flow")),onUpdateMonthYear:q=>e.unref(k)(H,q),onOverlayClosed:V[2]||(V[2]=q=>d.$emit("focus-menu"))}),e.createSlots({_:2},[e.renderList(e.unref(g),(q,ne)=>({name:q,fn:e.withCtx(re=>[e.renderSlot(d.$slots,q,e.normalizeProps(e.guardReactiveProps(re)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(Aa,e.mergeProps({ref:q=>{q&&(D.value[v]=q)},"mapped-dates":B.value(H),month:e.unref(l)(H),year:e.unref(m)(H),instance:H},d.$props,{onSelectDate:q=>e.unref(G)(q,H!==1),onHandleSpace:q=>S(q,H!==1),onSetHoverDate:V[3]||(V[3]=q=>e.unref(K)(q)),onHandleScroll:q=>e.unref(R)(q,H),onHandleSwipe:q=>e.unref(U)(q,H),onMount:V[4]||(V[4]=q=>C(e.unref(Ye).calendar)),onResetFlow:V[5]||(V[5]=q=>d.$emit("reset-flow")),onTooltipOpen:V[6]||(V[6]=q=>d.$emit("tooltip-open",q)),onTooltipClose:V[7]||(V[7]=q=>d.$emit("tooltip-close",q))}),e.createSlots({_:2},[e.renderList(e.unref(Q),(q,ne)=>({name:q,fn:e.withCtx(re=>[e.renderSlot(d.$slots,q,e.normalizeProps(e.guardReactiveProps({...re})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),d.enableTimePicker?(e.openBlock(),e.createElementBlock("div",Pa,[d.$slots["time-picker"]?e.renderSlot(d.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(M),updateTime:e.unref(p)}))):(e.openBlock(),e.createBlock(Pn,e.mergeProps({key:1,ref_key:"timePickerRef",ref:L},d.$props,{hours:e.unref(M).hours,minutes:e.unref(M).minutes,seconds:e.unref(M).seconds,"internal-model-value":d.internalModelValue,"disabled-times-config":e.unref(A),"validate-time":e.unref(h),onMount:V[8]||(V[8]=H=>C(e.unref(Ye).timePicker)),"onUpdate:hours":V[9]||(V[9]=H=>e.unref(p)(H)),"onUpdate:minutes":V[10]||(V[10]=H=>e.unref(p)(H,!1)),"onUpdate:seconds":V[11]||(V[11]=H=>e.unref(p)(H,!1,!0)),onResetFlow:V[12]||(V[12]=H=>d.$emit("reset-flow")),onOverlayClosed:V[13]||(V[13]=H=>d.$emit("time-picker-close")),onOverlayOpened:V[14]||(V[14]=H=>d.$emit("time-picker-open",H)),onAmPmChange:V[15]||(V[15]=H=>d.$emit("am-pm-change",H))}),e.createSlots({_:2},[e.renderList(e.unref(O),(H,v)=>({name:H,fn:e.withCtx(q=>[e.renderSlot(d.$slots,H,e.normalizeProps(e.guardReactiveProps(q)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):e.createCommentVNode("",!0)],64))}}),_a=(t,r)=>{const a=e.ref(),{defaultedMultiCalendars:n,defaultedConfig:o}=ce(t),{modelValue:l,year:m,month:b,calendars:M}=xe(t,r),{isDisabled:A}=He(t),{selectYear:h,groupedYears:$,showYearPicker:_,isDisabled:W,toggleYearPicker:R,handleYearSelect:U,handleYear:G}=vn({modelValue:l,multiCalendars:n,calendars:M,month:b,year:m,props:t,emit:r}),k=(y,D)=>[y,D].map(L=>u.format(L,"MMMM",{locale:t.formatLocale})).join("-"),E=e.computed(()=>y=>l.value?Array.isArray(l.value)?l.value.some(D=>u.isSameQuarter(y,D)):u.isSameQuarter(l.value,y):!1),w=y=>{if(t.range){if(Array.isArray(l.value)){const D=ae(y,l.value[0])||ae(y,l.value[1]);return Fe(l.value,a.value,y)&&!D}return!1}return!1},p=e.computed(()=>y=>{const D=u.set(new Date,{year:m.value(y)});return u.eachQuarterOfInterval({start:u.startOfYear(D),end:u.endOfYear(D)}).map(L=>{const Q=u.startOfQuarter(L),g=u.endOfQuarter(L),O=A(L),C=w(Q);return{text:k(Q,g),value:Q,active:E.value(Q),disabled:O,isBetween:C}})}),P=y=>{lt(y,l,t.multiDatesLimit),r("auto-apply",!0)},K=y=>{const D=It(l,y,r);st(D,r,t.autoApply,t.modelAuto)},F=y=>{l.value=y,r("auto-apply")};return{defaultedConfig:o,defaultedMultiCalendars:n,groupedYears:$,year:m,isDisabled:W,quarters:p,showYearPicker:_,setHoverDate:y=>{a.value=y},selectYear:h,selectQuarter:(y,D,L)=>{if(!L)return M.value[D].month=u.getMonth(u.endOfQuarter(y)),t.multiDates?P(y):t.range?K(y):F(y)},toggleYearPicker:R,handleYearSelect:U,handleYear:G}},Ea={class:"dp--quarter-items"},Ra=["disabled","onClick","onMouseover"],Ya=e.defineComponent({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Se},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{emit:r}){const a=t,n=e.useSlots(),o=ke(n,"yearMode"),{defaultedMultiCalendars:l,defaultedConfig:m,groupedYears:b,year:M,isDisabled:A,quarters:h,showYearPicker:$,setHoverDate:_,selectQuarter:W,toggleYearPicker:R,handleYearSelect:U,handleYear:G}=_a(a,r);return(k,E)=>(e.openBlock(),e.createBlock(ot,{"multi-calendars":e.unref(l).count,stretch:""},{default:e.withCtx(({instance:w})=>[e.createElementVNode("div",{class:"dp-quarter-picker-wrap",style:e.normalizeStyle({minHeight:`${e.unref(m).modeHeight}px`})},[e.createElementVNode("div",null,[e.createVNode(An,e.mergeProps(k.$props,{items:e.unref(b)(w),instance:w,"show-year-picker":e.unref($)[w],year:e.unref(M)(w),"is-disabled":p=>e.unref(A)(w,p),onHandleYear:p=>e.unref(G)(w,p),onYearSelect:p=>e.unref(U)(p,w),onToggleYearPicker:p=>e.unref(R)(w,p==null?void 0:p.flow,p==null?void 0:p.show)}),e.createSlots({_:2},[e.renderList(e.unref(o),(p,P)=>({name:p,fn:e.withCtx(K=>[e.renderSlot(k.$slots,p,e.normalizeProps(e.guardReactiveProps(K)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),e.createElementVNode("div",Ea,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(h)(w),(p,P)=>(e.openBlock(),e.createElementBlock("div",{key:P},[e.createElementVNode("button",{type:"button",class:e.normalizeClass(["dp--qr-btn",{"dp--qr-btn-active":p.active,"dp--qr-btn-between":p.isBetween,"dp--qr-btn-disabled":p.disabled}]),disabled:p.disabled,onClick:K=>e.unref(W)(p.value,w,p.disabled),onMouseover:K=>e.unref(_)(p.value)},[k.$slots.quarter?e.renderSlot(k.$slots,"quarter",{key:0,value:p.value,text:p.text}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(p.text),1)],64))],42,Ra)]))),128))])],4)]),_:3},8,["multi-calendars"]))}}),Va=["id","onKeydown"],Oa={key:0,class:"dp__sidebar_left"},Ia={key:1,class:"dp--preset-dates"},za=["onClick","onKeydown"],La={key:2,class:"dp__sidebar_right"},Ha={key:3,class:"dp__action_extra"},En=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...at,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid"],setup(t,{expose:r,emit:a}){const n=t,o=e.computed(()=>{const{openOnTop:N,...I}=n;return{...I,flowStep:F.value}}),{setMenuFocused:l,setShiftKey:m,control:b}=Tn(),M=e.useSlots(),{defaultedTextInput:A,defaultedInline:h,defaultedConfig:$}=ce(n),_=e.ref(null),W=e.ref(0),R=e.ref(null),U=e.ref(null),G=e.ref(!1),k=e.ref(null);e.onMounted(()=>{if(!n.shadow){G.value=!0,E(),window.addEventListener("resize",E);const N=de(R);if(N&&!A.value.enabled&&!h.value.enabled&&(l(!0),L()),N){const I=se=>{$.value.allowPreventDefault&&se.preventDefault(),$e(se,$.value,!0)};N.addEventListener("pointerdown",I),N.addEventListener("mousedown",I)}}}),e.onUnmounted(()=>{window.removeEventListener("resize",E)});const E=()=>{const N=de(U);N&&(W.value=N.getBoundingClientRect().width)},{arrowRight:w,arrowLeft:p,arrowDown:P,arrowUp:K}=Pe(),{flowStep:F,updateFlowStep:te,childMount:x,resetFlow:y}=Rr(n,a,k),D=e.computed(()=>n.monthPicker?Xr:n.yearPicker?Fr:n.timePicker?ha:n.quarterPicker?Ya:Na),L=()=>{const N=de(R);N&&N.focus({preventScroll:!0})},Q=e.computed(()=>{var N;return((N=k.value)==null?void 0:N.getSidebarProps())||{}}),g=()=>{n.openOnTop&&a("recalculate-position")},O=ke(M,"action"),C=e.computed(()=>n.monthPicker||n.yearPicker?ke(M,"monthYear"):n.timePicker?ke(M,"timePicker"):ke(M,"shared")),B=e.computed(()=>n.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),c=e.computed(()=>({dp__menu_disabled:n.disabled,dp__menu_readonly:n.readonly})),s=e.computed(()=>({dp__menu:!0,dp__menu_index:!h.value.enabled,dp__relative:h.value.enabled,[n.menuClassName]:!!n.menuClassName})),S=N=>{$e(N,$.value,!0)},j=()=>{n.escClose&&a("close-picker")},i=N=>{if(n.arrowNavigation){if(N==="up")return K();if(N==="down")return P();if(N==="left")return p();if(N==="right")return w()}else N==="left"||N==="up"?H("handleArrow","left",0,N==="up"):H("handleArrow","right",0,N==="down")},Y=N=>{m(N.shiftKey),!n.disableMonthYearSelect&&N.code==="Tab"&&N.target.classList.contains("dp__menu")&&b.value.shiftKeyInMenu&&(N.preventDefault(),$e(N,$.value,!0),a("close-picker"))},oe=()=>{L(),a("time-picker-close")},d=N=>{var I,se,Z;(I=k.value)==null||I.toggleTimePicker(!1,!1),(se=k.value)==null||se.toggleMonthPicker(!1,!1,N),(Z=k.value)==null||Z.toggleYearPicker(!1,!1,N)},V=(N,I=0)=>{var se,Z,Me;return N==="month"?(se=k.value)==null?void 0:se.toggleMonthPicker(!1,!0,I):N==="year"?(Z=k.value)==null?void 0:Z.toggleYearPicker(!1,!0,I):N==="time"?(Me=k.value)==null?void 0:Me.toggleTimePicker(!0,!1):d(I)},H=(N,...I)=>{var se,Z;(se=k.value)!=null&&se[N]&&((Z=k.value)==null||Z[N](...I))},v=()=>{H("selectCurrentDate")},q=(N,I)=>{H("presetDate",N,I)},ne=()=>{H("clearHoverDate")};return r({updateMonthYear:(N,I)=>{H("updateMonthYear",N,I)},switchView:V}),(N,I)=>{var se;return e.openBlock(),e.createElementBlock("div",{id:N.uid?`dp-menu-${N.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:R,role:"dialog",class:e.normalizeClass(s.value),onMouseleave:ne,onClick:S,onKeydown:[e.withKeys(j,["esc"]),I[16]||(I[16]=e.withKeys(e.withModifiers(Z=>i("left"),["prevent"]),["left"])),I[17]||(I[17]=e.withKeys(e.withModifiers(Z=>i("up"),["prevent"]),["up"])),I[18]||(I[18]=e.withKeys(e.withModifiers(Z=>i("down"),["prevent"]),["down"])),I[19]||(I[19]=e.withKeys(e.withModifiers(Z=>i("right"),["prevent"]),["right"])),Y]},[(N.disabled||N.readonly)&&e.unref(h).enabled?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(c.value)},null,2)):e.createCommentVNode("",!0),!e.unref(h).enabled&&!N.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(B.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:U,class:e.normalizeClass({dp__menu_content_wrapper:((se=N.presetDates)==null?void 0:se.length)||!!N.$slots["left-sidebar"]||!!N.$slots["right-sidebar"]}),style:e.normalizeStyle({"--dp-menu-width":`${W.value}px`})},[N.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",Oa,[e.renderSlot(N.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(Q.value)))])):e.createCommentVNode("",!0),N.presetDates.length?(e.openBlock(),e.createElementBlock("div",Ia,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(N.presetDates,(Z,Me)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:Me},[Z.slot?e.renderSlot(N.$slots,Z.slot,{key:0,presetDate:q,label:Z.label,value:Z.value}):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",style:e.normalizeStyle(Z.style||{}),class:"dp__btn dp--preset-range",onClick:e.withModifiers(fe=>q(Z.value,Z.noTz),["prevent"]),onKeydown:[e.withKeys(e.withModifiers(fe=>q(Z.value,Z.noTz),["prevent"]),["enter"]),e.withKeys(e.withModifiers(fe=>q(Z.value,Z.noTz),["prevent"]),["space"])]},e.toDisplayString(Z.label),45,za))],64))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:_,role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(D.value),e.mergeProps({ref_key:"dynCmpRef",ref:k},o.value,{"flow-step":e.unref(F),onMount:e.unref(x),onUpdateFlowStep:e.unref(te),onResetFlow:e.unref(y),onFocusMenu:L,onSelectDate:I[0]||(I[0]=Z=>N.$emit("select-date")),onTooltipOpen:I[1]||(I[1]=Z=>N.$emit("tooltip-open",Z)),onTooltipClose:I[2]||(I[2]=Z=>N.$emit("tooltip-close",Z)),onAutoApply:I[3]||(I[3]=Z=>N.$emit("auto-apply",Z)),onRangeStart:I[4]||(I[4]=Z=>N.$emit("range-start",Z)),onRangeEnd:I[5]||(I[5]=Z=>N.$emit("range-end",Z)),onInvalidFixedRange:I[6]||(I[6]=Z=>N.$emit("invalid-fixed-range",Z)),onTimeUpdate:I[7]||(I[7]=Z=>N.$emit("time-update")),onAmPmChange:I[8]||(I[8]=Z=>N.$emit("am-pm-change",Z)),onTimePickerOpen:I[9]||(I[9]=Z=>N.$emit("time-picker-open",Z)),onTimePickerClose:oe,onRecalculatePosition:g,onUpdateMonthYear:I[10]||(I[10]=Z=>N.$emit("update-month-year",Z)),onAutoApplyInvalid:I[11]||(I[11]=Z=>N.$emit("auto-apply-invalid",Z)),"onUpdate:internalModelValue":I[12]||(I[12]=Z=>N.$emit("update:internal-model-value",Z))}),e.createSlots({_:2},[e.renderList(C.value,(Z,Me)=>({name:Z,fn:e.withCtx(fe=>[e.renderSlot(N.$slots,Z,e.normalizeProps(e.guardReactiveProps({...fe})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),N.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",La,[e.renderSlot(N.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(Q.value)))])):e.createCommentVNode("",!0),N.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",Ha,[N.$slots["action-extra"]?e.renderSlot(N.$slots,"action-extra",{key:0,selectCurrentDate:v}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],6),!N.autoApply||e.unref($).keepActionRow?(e.openBlock(),e.createBlock(Kr,e.mergeProps({key:2,"menu-mount":G.value},o.value,{"calendar-width":W.value,onClosePicker:I[13]||(I[13]=Z=>N.$emit("close-picker")),onSelectDate:I[14]||(I[14]=Z=>N.$emit("select-date")),onInvalidSelect:I[15]||(I[15]=Z=>N.$emit("invalid-select")),onSelectNow:v}),e.createSlots({_:2},[e.renderList(e.unref(O),(Z,Me)=>({name:Z,fn:e.withCtx(fe=>[e.renderSlot(N.$slots,Z,e.normalizeProps(e.guardReactiveProps({...fe})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],42,Va)}}}),Ka=typeof window<"u"?window:void 0,zt=()=>{},Ua=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,Wa=(t,r,a,n)=>{if(!t)return zt;let o=zt;const l=e.watch(()=>e.unref(t),b=>{o(),b&&(b.addEventListener(r,a,n),o=()=>{b.removeEventListener(r,a,n),o=zt})},{immediate:!0,flush:"post"}),m=()=>{l(),o()};return Ua(m),m},ja=(t,r,a,n={})=>{const{window:o=Ka,event:l="pointerdown"}=n;return o?Wa(o,l,b=>{const M=de(t),A=de(r);!M||!A||M===b.target||b.composedPath().includes(M)||b.composedPath().includes(A)||a(b)},{passive:!0}):void 0},xa=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...at},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(t,{expose:r,emit:a}){const n=t,o=e.useSlots(),l=e.ref(!1),m=e.toRef(n,"modelValue"),b=e.toRef(n,"timezone"),M=e.ref(null),A=e.ref(null),h=e.ref(null),$=e.ref(!1),_=e.ref(null),{setMenuFocused:W,setShiftKey:R}=Tn(),{clearArrowNav:U}=Pe(),{mapDatesArrToMap:G,validateDate:k,isValidTime:E}=He(n),{defaultedTransitions:w,defaultedTextInput:p,defaultedInline:P,defaultedConfig:K}=ce(n),{menuTransition:F,showTransition:te}=je(w);e.onMounted(()=>{S(n.modelValue),e.nextTick().then(()=>{P.value.enabled||(C(_.value).addEventListener("scroll",H),window.addEventListener("resize",v))}),P.value.enabled&&(l.value=!0)});const x=e.computed(()=>G());e.onUnmounted(()=>{if(!P.value.enabled){const X=C(_.value);X&&X.removeEventListener("scroll",H),window.removeEventListener("resize",v)}});const y=ke(o,"all",n.presetDates),D=ke(o,"input");e.watch([m,b],()=>{S(m.value)},{deep:!0});const{openOnTop:L,menuStyle:Q,xCorrect:g,setMenuPosition:O,getScrollableParent:C,shadowRender:B}=Pr({menuRef:M,menuRefInner:A,inputRef:h,pickerWrapperRef:_,inline:P,emit:a,props:n,slots:o}),{inputValue:c,internalModelValue:s,parseExternalModelValue:S,emitModelValue:j,formatInputValue:i,checkBeforeEmit:Y}=Ar(a,n,$),oe=e.computed(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:P.value.enabled,dp__flex_display_with_input:P.value.input})),d=e.computed(()=>n.dark?"dp__theme_dark":"dp__theme_light"),V=e.computed(()=>n.teleport?{to:typeof n.teleport=="boolean"?"body":n.teleport,disabled:P.value.enabled}:{class:"dp__outer_menu_wrap"}),H=()=>{l.value&&(K.value.closeOnScroll?fe():O())},v=()=>{l.value&&O()},q=()=>{!n.disabled&&!n.readonly&&(B(En,n),O(!1),l.value=!0,l.value&&a("open"),l.value||Me(),S(n.modelValue))},ne=()=>{var X;c.value="",Me(),(X=h.value)==null||X.setParsedDate(null),a("update:model-value",null),a("update:model-timezone-value",null),a("cleared"),K.value.closeOnClearValue&&fe()},re=()=>{const X=s.value;return!X||!Array.isArray(X)&&k(X)?!0:Array.isArray(X)?X.length===2&&k(X[0])&&k(X[1])?!0:n.partialRange&&!n.timePicker?k(X[0]):!1:!1},N=()=>{Y()&&re()?(j(),fe()):a("invalid-select",s.value)},I=X=>{se(),j(),K.value.closeOnAutoApply&&!X&&fe()},se=()=>{h.value&&p.value.enabled&&h.value.setParsedDate(s.value)},Z=(X=!1)=>{n.autoApply&&E(s.value)&&re()&&(n.range&&Array.isArray(s.value)?(n.partialRange||s.value.length===2)&&I(X):I(X))},Me=()=>{p.value.enabled||(s.value=null)},fe=()=>{P.value.enabled||(l.value&&(l.value=!1,g.value=!1,W(!1),R(!1),U(),a("closed"),c.value&&S(m.value)),Me(),a("blur"))},it=(X,f)=>{if(!X){s.value=null;return}const T=Array.isArray(X)?!X.some(ee=>!k(ee)):k(X),J=E(X);T&&J&&(s.value=X,f&&(N(),a("text-submit")))},Qe=()=>{n.autoApply&&E(s.value)&&j(),se()},Ht=()=>l.value?fe():q(),Kt=X=>{s.value=X},Ut=()=>{p.value.enabled&&($.value=!0,i()),a("focus")},Wt=()=>{p.value.enabled&&($.value=!1,S(n.modelValue)),a("blur")},jt=X=>{A.value&&A.value.updateMonthYear(0,{month:mn(X.month),year:mn(X.year)})},xt=X=>{S(X??n.modelValue)},qt=(X,f)=>{var T;(T=A.value)==null||T.switchView(X,f)},Gt=X=>K.value.onClickOutside?K.value.onClickOutside(X):fe();return ja(M,h,()=>Gt(re)),r({closeMenu:fe,selectDate:N,clearValue:ne,openMenu:q,onScroll:H,formatInputValue:i,updateInternalModelValue:Kt,setMonthYear:jt,parseModel:xt,switchView:qt}),(X,f)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(oe.value),ref_key:"pickerWrapperRef",ref:_},[e.createVNode(Ir,e.mergeProps({ref_key:"inputRef",ref:h,"is-menu-open":l.value,"input-value":e.unref(c),"onUpdate:inputValue":f[0]||(f[0]=T=>e.isRef(c)?c.value=T:null)},X.$props,{onClear:ne,onOpen:q,onSetInputDate:it,onSetEmptyDate:e.unref(j),onSelectDate:N,onToggle:Ht,onClose:fe,onFocus:Ut,onBlur:Wt,onRealBlur:f[1]||(f[1]=T=>$.value=!1)}),e.createSlots({_:2},[e.renderList(e.unref(D),(T,J)=>({name:T,fn:e.withCtx(ee=>[e.renderSlot(X.$slots,T,e.normalizeProps(e.guardReactiveProps(ee)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),e.createVNode(e.Transition,{name:e.unref(F)(e.unref(L)),css:e.unref(te)&&!e.unref(P).enabled},{default:e.withCtx(()=>[l.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(X.teleport?e.Teleport:"div"),e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:M},V.value,{class:{"dp--menu-wrapper":!e.unref(P).enabled},style:e.unref(P).enabled?void 0:e.unref(Q)}),{default:e.withCtx(()=>[e.createVNode(En,e.mergeProps({ref_key:"dpMenuRef",ref:A,class:{[d.value]:!0,"dp--menu-wrapper":X.teleport},style:X.teleport?e.unref(Q):void 0,"open-on-top":e.unref(L),"arr-map-values":x.value},X.$props,{"internal-model-value":e.unref(s),"onUpdate:internalModelValue":f[2]||(f[2]=T=>e.isRef(s)?s.value=T:null),onClosePicker:fe,onSelectDate:N,onAutoApply:Z,onTimeUpdate:Qe,onFlowStep:f[3]||(f[3]=T=>X.$emit("flow-step",T)),onUpdateMonthYear:f[4]||(f[4]=T=>X.$emit("update-month-year",T)),onInvalidSelect:f[5]||(f[5]=T=>X.$emit("invalid-select",e.unref(s))),onAutoApplyInvalid:f[6]||(f[6]=T=>X.$emit("invalid-select",T)),onInvalidFixedRange:f[7]||(f[7]=T=>X.$emit("invalid-fixed-range",T)),onRecalculatePosition:e.unref(O),onTooltipOpen:f[8]||(f[8]=T=>X.$emit("tooltip-open",T)),onTooltipClose:f[9]||(f[9]=T=>X.$emit("tooltip-close",T)),onTimePickerOpen:f[10]||(f[10]=T=>X.$emit("time-picker-open",T)),onTimePickerClose:f[11]||(f[11]=T=>X.$emit("time-picker-close",T)),onAmPmChange:f[12]||(f[12]=T=>X.$emit("am-pm-change",T)),onRangeStart:f[13]||(f[13]=T=>X.$emit("range-start",T)),onRangeEnd:f[14]||(f[14]=T=>X.$emit("range-end",T))}),e.createSlots({_:2},[e.renderList(e.unref(y),(T,J)=>({name:T,fn:e.withCtx(ee=>[e.renderSlot(X.$slots,T,e.normalizeProps(e.guardReactiveProps({...ee})))])}))]),1040,["class","style","open-on-top","arr-map-values","internal-model-value","onRecalculatePosition"])]),_:3},16,["class","style"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],2))}}),Lt=(()=>{const t=xa;return t.install=r=>{r.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:Lt},Symbol.toStringTag,{value:"Module"}))).forEach(([t,r])=>{t!=="default"&&(Lt[t]=r)}),Lt});
